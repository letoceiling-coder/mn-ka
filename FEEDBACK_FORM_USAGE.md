# Использование компонента формы обратной связи

## Компонент: FeedbackForm

Компонент формы обратной связи создан и готов к использованию.

### Использование в Vue компонентах

```vue
<template>
    <div>
        <FeedbackForm 
            title="Обратная связь"
            description="Оставьте ваше сообщение, и мы обязательно свяжемся с вами"
        />
    </div>
</template>

<script>
import FeedbackForm from '../components/public/FeedbackForm.vue';

export default {
    components: {
        FeedbackForm,
    },
};
</script>
```

### Параметры компонента

- `title` (String, по умолчанию: "Обратная связь") - Заголовок формы
- `description` (String, по умолчанию: "Оставьте ваше сообщение, и мы обязательно свяжемся с вами") - Описание под заголовком

### Функциональность

1. **Валидация формы:**
   - Имя (обязательное поле)
   - Телефон (опциональное, с автоформатированием)
   - Email (опциональное, с валидацией)
   - Сообщение (обязательное, максимум 5000 символов)

2. **Автоматическая отправка:**
   - Сохранение в базу данных (таблица `feedback_requests`)
   - Создание уведомлений для администраторов
   - Отправка email администраторам
   - Отправка уведомления в Telegram бот

3. **UX улучшения:**
   - Автоформатирование телефона (+7 (___) ___-__-__)
   - Счетчик символов для сообщения
   - Визуальная обратная связь (успех/ошибка)
   - SweetAlert2 уведомления

### API Endpoint

```
POST /api/public/feedback
```

**Тело запроса:**
```json
{
    "name": "Иван Иванов",
    "phone": "+7 (999) 123-45-67",
    "email": "ivan@example.com",
    "message": "Текст сообщения"
}
```

**Ответ при успехе:**
```json
{
    "message": "Спасибо за ваше обращение! Мы свяжемся с вами в ближайшее время.",
    "success": true
}
```

### База данных

Таблица `feedback_requests` содержит:
- `id` - ID заявки
- `name` - Имя отправителя
- `phone` - Телефон (nullable)
- `email` - Email (nullable)
- `message` - Сообщение
- `status` - Статус (new, in_progress, completed, cancelled)
- `assigned_to` - ID назначенного пользователя (nullable)
- `notes` - Заметки (nullable)
- `completed_at` - Дата завершения (nullable)
- `created_at`, `updated_at` - Временные метки

### Email шаблон

Email отправляется администраторам с красивым HTML шаблоном, содержащим:
- Заголовок с градиентом
- Информацию о контакте (имя, телефон, email)
- Сообщение
- Ссылку на просмотр в админке

### Telegram уведомления

Уведомления отправляются:
1. Через NotificationTool (автоматически для всех администраторов)
2. Напрямую в Telegram всем администраторам с настроенным `telegram_chat_id`

### Стилизация

Компонент использует Tailwind CSS и полностью адаптивен:
- Мобильная версия: 1 колонка
- Десктоп: 2 колонки для имени и телефона
- Цветовая схема: #688E67 (зеленый) для акцентов
- Фон формы: #F4F6FC (светло-серый)


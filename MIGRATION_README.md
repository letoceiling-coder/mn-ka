# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

## –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–º–∞–Ω–¥–∞ `migrate:legacy-data` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ `lagom` –≤ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç `lagom-figma`.

## –ß—Ç–æ –º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è

1. **Media —Ñ–∞–π–ª—ã** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ñ–∞–π–ª—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏ —É—Å–ª—É–≥–∞–º–∏
2. **Chapters** - —Ä–∞–∑–¥–µ–ª—ã –¥–ª—è –±–ª–æ–∫–∞ —Ä–µ—à–µ–Ω–∏–π
3. **Products** - –ø—Ä–æ–¥—É–∫—Ç—ã —Å –∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ –∏–∫–æ–Ω–∫–∞–º–∏
4. **Services** - —É—Å–ª—É–≥–∏ —Å –∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ –∏–∫–æ–Ω–∫–∞–º–∏
5. **Product-Service relationships** - —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏ —É—Å–ª—É–≥–∞–º–∏

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. –í—ã–ø–æ–ª–Ω–µ–Ω—ã –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ (–≤–∫–ª—é—á–∞—è —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü)
2. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–∞–ø–∫–∞ "–û–±—â–∞—è" –≤ —Ç–∞–±–ª–∏—Ü–µ `folders` (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏)
3. –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
php artisan migrate:legacy-data
```

–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—Ä–æ—Å–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ:
- Legacy database name (–∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)
- Legacy database password (–ø–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)

### –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```bash
php artisan migrate:legacy-data \
    --legacy-path="C:\OSPanel\domains\lagom" \
    --legacy-db-name="lagom_db" \
    --legacy-db-user="root" \
    --legacy-db-pass="password" \
    --legacy-db-host="127.0.0.1" \
    --legacy-db-port="3306"
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥—ã

- `--legacy-path` - –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `C:\OSPanel\domains\lagom`)
- `--legacy-db-host` - —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `127.0.0.1`)
- `--legacy-db-port` - –ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `3306`)
- `--legacy-db-name` - –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ - –∑–∞–ø—Ä–æ—Å–∏—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ)
- `--legacy-db-user` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `root`)
- `--legacy-db-pass` - –ø–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ - –∑–∞–ø—Ä–æ—Å–∏—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ)

## –ü—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å—Ç–∞—Ä–æ–π –ë–î** - –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
2. **–ú–∏–≥—Ä–∞—Ü–∏—è Media** - –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ `public/upload/` —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤ `public/upload/` –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `media`
3. **–ú–∏–≥—Ä–∞—Ü–∏—è Chapters** - –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç —Ä–∞–∑–¥–µ–ª—ã, —Å–æ—Ö—Ä–∞–Ω—è—è –ø–æ—Ä—è–¥–æ–∫
4. **–ú–∏–≥—Ä–∞—Ü–∏—è Products** - –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –ø—Ä–æ–¥—É–∫—Ç—ã —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º —Å–≤—è–∑–µ–π –Ω–∞ –Ω–æ–≤—ã–µ ID
5. **–ú–∏–≥—Ä–∞—Ü–∏—è Services** - –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç —É—Å–ª—É–≥–∏ —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º —Å–≤—è–∑–µ–π
6. **–ú–∏–≥—Ä–∞—Ü–∏—è —Å–≤—è–∑–µ–π** - —Å–æ–∑–¥–∞–µ—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏ —É—Å–ª—É–≥–∞–º–∏

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
- **–ú–∞–ø–ø–∏–Ω–≥ ID** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–µ ID –≤ –Ω–æ–≤—ã–µ –¥–ª—è –≤—Å–µ—Ö —Å–≤—è–∑–µ–π
- **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤** - —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –∏ –≤—ã–≤–æ–¥–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ï—Å–ª–∏ —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω - –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –Ω–æ –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
- –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –æ–Ω–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –º–∞–ø–ø–∏–Ω–≥ ID —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –ü—Ä–∏ –æ—à–∏–±–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ - –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã:
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –≤ –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ
- –§–∞–π–ª—ã –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ `public/upload/`
- –í—Å–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- –û—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è —Å–≤–æ–¥–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üöÄ Starting legacy data migration...
‚úÖ Connected to legacy database: lagom_db

üì¶ Step 1: Migrating Media files...
   Migrated: 45, Skipped: 2, Errors: 0

üìö Step 2: Migrating Chapters...
   Migrated: 2 chapters

üì¶ Step 3: Migrating Products...
   Migrated: 16 products

üîß Step 4: Migrating Services...
   Migrated: 11 services

üîó Step 5: Migrating Product-Service relationships...
   Migrated: 28, Skipped: 0 relationships

‚úÖ Migration completed successfully!

üìä Migration Summary:
+----------+-------+
| Entity   | Count |
+----------+-------+
| Media    | 47    |
| Chapters | 2     |
| Products | 16    |
| Services | 11    |
+----------+-------+
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

1. **–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. **–§–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ —Å—Ç–∞—Ä–æ–º—É –ø—Ä–æ–µ–∫—Ç—É –∏ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ `public/upload/`
3. **–î—É–±–ª–∏–∫–∞—Ç—ã slug** - –∫–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—É—Ñ—Ñ–∏–∫—Å—ã –∫ –¥—É–±–ª–∏—Ä—É—é—â–∏–º—Å—è slug
4. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–≤—è–∑–∏** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ Media —Ñ–∞–π–ª—ã –±—ã–ª–∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π Products/Services


import{_ as k,h as v,i as x,j as C,c as a,d,b as o,a as E,t as b,F,k as B,E as I,r as H,o as r,A as p,m as T,p as A,w as q,s as S}from"./app-Do2upUsO.js";import{F as j}from"./FeedbackModal-DSyBQJYs.js";const W={name:"HowWork",components:{FeedbackModal:j},props:{title:{type:String,default:null},items:{type:Array,default:null},buttonText:{type:String,default:null},buttonLink:{type:String,default:null}},setup(c){const n=I(),i=v(null),t=v(!0),m=v(!1),y=x(()=>c?.title||i.value?.title||null),l=x(()=>c?.items&&Array.isArray(c.items)?c.items:i.value?.steps||[]),s=x(()=>c?.buttonText||i.value?.button_text||null),g=x(()=>c?.buttonLink||(i.value?.button_type==="url"?i.value?.button_value:null)),u=async()=>{try{const e=await fetch("/api/public/how-work-block/settings");if(e.ok){const w=await e.json();w.data&&(i.value=w.data)}}catch(e){console.error("Error fetching HowWork block settings:",e)}finally{t.value=!1}},f=x(()=>{if(!i.value?.image)return null;const e=i.value.image;return typeof e=="string"?e.startsWith("/")?e:`/${e}`:null}),h=()=>{if(!i.value){console.warn("HowWork: settings not loaded");return}console.log("HowWork button clicked:",{button_type:i.value.button_type,button_value:i.value.button_value}),i.value.button_type==="url"&&i.value.button_value?i.value.button_value.startsWith("http")?window.open(i.value.button_value,"_blank"):n.push(i.value.button_value):(console.log("Opening feedback modal"),m.value=!0)},_=()=>{m.value=!1};return C(()=>{u()}),{settings:i,loading:t,imageUrl:f,showFeedbackModal:m,displayTitle:y,displayItems:l,displayButtonText:s,displayButtonLink:g,handleButtonClick:h,handleFeedbackSuccess:_}}},D={key:0,class:"w-full px-3 sm:px-4 md:px-5 py-20 md:py-24"},U={class:"w-full max-w-[1200px] mx-auto"},z={key:0,class:"flex justify-center mb-8 sm:mb-12"},K={class:"text-2xl md:text-3xl font-semibold text-foreground"},N={class:"flex flex-col md:flex-row gap-6 md:gap-8"},V={class:"w-full md:w-1/2 order-2 md:order-1"},O={class:"space-y-0"},Q={class:"flex flex-col items-center flex-shrink-0"},R={class:"w-5 h-5 flex-shrink-0"},Z={key:0,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G={key:1,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J={key:0,class:"w-0.5 bg-[#306221] flex-1 min-h-[50px] mt-2"},P={class:"flex-1 pb-6 md:pb-8"},X=["innerHTML"],Y=["innerHTML"],$=["href"],tt={class:"w-full md:w-1/2 order-1 md:order-2"},et={key:0,class:"overflow-hidden rounded-[18px] mb-6"},st=["src","alt"],ot=["href"];function nt(c,n,i,t,m,y){const l=H("FeedbackModal");return t.settings&&t.settings.is_active?(r(),a("section",D,[o("div",U,[t.displayTitle?(r(),a("div",z,[o("h2",K,b(t.displayTitle),1)])):d("",!0),o("div",N,[o("div",V,[o("div",O,[(r(!0),a(F,null,B(t.displayItems,(s,g)=>(r(),a("div",{key:g,class:"flex gap-4 relative"},[o("div",Q,[o("div",R,[s.point==="disc"?(r(),a("svg",Z,[...n[3]||(n[3]=[o("rect",{width:"20",height:"20",rx:"10",fill:"#6C7B6D"},null,-1)])])):s.point==="star"?(r(),a("svg",G,[...n[4]||(n[4]=[o("path",{d:"M3.825 20L5.45 12.6053L0 7.63158L7.2 6.97368L10 0L12.8 6.97368L20 7.63158L14.55 12.6053L16.175 20L10 16.0789L3.825 20Z",fill:"#6C7B6D"},null,-1)])])):d("",!0)]),g<t.displayItems.length-1?(r(),a("div",J)):d("",!0)]),o("div",P,[s.title?(r(),a("h3",{key:0,class:"text-base sm:text-lg font-medium text-[#424448] leading-[22px] mb-2",innerHTML:s.title},null,8,X)):d("",!0),s.description||s.text?(r(),a("p",{key:1,class:"text-sm sm:text-base font-normal text-[#424448] leading-[20px]",innerHTML:s.description||s.text},null,8,Y)):d("",!0)])]))),128))]),t.displayButtonText&&t.displayButtonLink?(r(),a("a",{key:0,href:t.displayButtonLink,class:"mt-6 w-full md:hidden px-8 py-3 bg-[#688E67] text-white rounded-lg hover:bg-[#5a7a5a] transition-colors font-medium text-base text-center inline-block"},b(t.displayButtonText),9,$)):t.displayButtonText?(r(),a("button",{key:1,onClick:n[0]||(n[0]=(...s)=>t.handleButtonClick&&t.handleButtonClick(...s)),class:"mt-6 w-full md:hidden px-8 py-3 bg-[#688E67] text-white rounded-lg hover:bg-[#5a7a5a] transition-colors font-medium text-base"},b(t.displayButtonText),1)):d("",!0)]),o("div",tt,[t.settings.image&&t.imageUrl?(r(),a("div",et,[o("img",{src:t.imageUrl,alt:t.settings.image_alt||"Как мы работаем",class:"w-full h-auto object-cover"},null,8,st)])):d("",!0),t.displayButtonText&&t.displayButtonLink?(r(),a("a",{key:1,href:t.displayButtonLink,class:"hidden md:block w-full px-8 py-3 bg-[#688E67] text-white rounded-lg hover:bg-[#5a7a5a] transition-colors font-medium text-base text-center inline-block"},b(t.displayButtonText),9,ot)):t.displayButtonText?(r(),a("button",{key:2,onClick:n[1]||(n[1]=(...s)=>t.handleButtonClick&&t.handleButtonClick(...s)),class:"hidden md:block w-full px-8 py-3 bg-[#688E67] text-white rounded-lg hover:bg-[#5a7a5a] transition-colors font-medium text-base"},b(t.displayButtonText),1)):d("",!0)])])]),E(l,{"is-open":t.showFeedbackModal,onClose:n[2]||(n[2]=s=>t.showFeedbackModal=!1),onSuccess:t.handleFeedbackSuccess},null,8,["is-open","onSuccess"])])):d("",!0)}const It=k(W,[["render",nt],["__scopeId","data-v-1ed0bbf1"]]),lt={name:"Faq",props:{title:{type:String,default:null},items:{type:Array,default:null}},setup(c){const n=v(null),i=v(!0),t=v({}),m=x(()=>c?.title||n.value?.title||null),y=x(()=>c?.items||n.value?.faq_items||[]),l=async()=>{try{const e=await fetch("/api/public/faq-block/settings");if(e.ok){const w=await e.json();if(w.data){n.value=w.data;const L=c?.items||w.data.faq_items||[];Array.isArray(L)&&L.forEach((At,M)=>{t.value[M]=!1})}}}catch(e){console.error("Error fetching FAQ block settings:",e)}finally{i.value=!1}},s=e=>{t.value[e]=!t.value[e]},g=e=>e?/<[a-z][\s\S]*>/i.test(e)?e:e.replace(/\n/g,"<br>"):"",u=e=>{e.style.height="0",e.style.opacity="0",e.offsetHeight},f=e=>{requestAnimationFrame(()=>{e.style.height=`${e.scrollHeight}px`,e.style.opacity="1"})},h=e=>{e.style.height=`${e.scrollHeight}px`,e.style.opacity="1",e.offsetHeight,requestAnimationFrame(()=>{e.style.height="0",e.style.opacity="0"})},_=e=>{e.style.height="",e.style.opacity=""};return C(()=>{l()}),{settings:n,loading:i,openItems:t,displayTitle:m,displayItems:y,toggleAnswer:s,formatAnswer:g,onEnter:u,onAfterEnter:f,onLeave:h,onAfterLeave:_}}},at={key:0,class:"w-full px-3 sm:px-4 md:px-5 py-20 md:py-24 bg-gradient-to-b from-[#F4F6FC] to-white","aria-label":"Часто задаваемые вопросы"},rt={class:"w-full max-w-[1200px] mx-auto"},it={key:0,class:"text-center mb-10 sm:mb-12 md:mb-16"},dt={class:"text-2xl md:text-3xl font-semibold text-[#424448] mb-3 sm:mb-4"},ct={key:1,class:"flex items-center justify-center py-16"},ut={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5 md:gap-6 items-stretch",role:"list"},ft=["onClick","onKeydown","aria-expanded","aria-controls"],gt={class:"flex-1 text-base sm:text-lg md:text-xl font-semibold text-[#424448] leading-relaxed pr-4"},mt=["id","aria-labelledby"],ht={class:"px-5 sm:px-6 pb-5 sm:pb-6 pt-4"},xt=["innerHTML"],bt={key:3,class:"text-center py-16"};function yt(c,n,i,t,m,y){return t.settings&&t.settings.is_active?(r(),a("section",at,[o("div",rt,[t.displayTitle?(r(),a("div",it,[o("h2",dt,b(t.displayTitle),1),n[0]||(n[0]=o("div",{class:"w-20 h-1 bg-[#306221] mx-auto rounded-full"},null,-1))])):d("",!0),t.loading?(r(),a("div",ct,[...n[1]||(n[1]=[o("div",{class:"flex flex-col items-center gap-4"},[o("div",{class:"w-12 h-12 border-4 border-[#306221] border-t-transparent rounded-full animate-spin"}),o("p",{class:"text-[#6C7B6D] text-sm"},"Загрузка вопросов...")],-1)])])):t.displayItems&&t.displayItems.length>0?(r(),a("div",ut,[(r(!0),a(F,null,B(t.displayItems,(l,s)=>(r(),a("div",{key:`faq-${s}-${l.question}`,class:"group h-full",role:"listitem"},[o("div",{class:p(["border border-[#E5E7EB] rounded-xl sm:rounded-2xl shadow-sm transition-all duration-300 h-full flex flex-col overflow-hidden",[t.openItems[s]?"border-[#306221] shadow-md bg-[#F9FAFB]":"bg-white group-hover:bg-[#F4F6FC]/50 group-hover:shadow-lg group-hover:border-[#657C6C]"]])},[o("button",{onClick:g=>t.toggleAnswer(s),onKeydown:[T(A(g=>t.toggleAnswer(s),["prevent"]),["enter"]),T(A(g=>t.toggleAnswer(s),["prevent"]),["space"])],"aria-expanded":t.openItems[s],"aria-controls":`faq-answer-${s}`,class:p(["w-full flex items-center justify-between gap-4 p-5 sm:p-6 text-left focus:outline-none transition-colors flex-shrink-0",t.openItems[s]?"bg-[#F9FAFB]":"bg-transparent"])},[o("h3",gt,b(l.question),1),o("div",{class:p(["flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-[#F4F6FC] group-hover:bg-[#657C6C]/10 transition-all duration-300",t.openItems[s]?"bg-[#306221]/10":""])},[(r(),a("svg",{class:p(["w-5 h-5 text-[#6C7B6D] transition-transform duration-300 ease-in-out",t.openItems[s]?"rotate-180 text-[#306221]":""]),fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24","aria-hidden":"true"},[...n[2]||(n[2]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2)],42,ft),E(S,{name:"faq-accordion",onEnter:t.onEnter,onAfterEnter:t.onAfterEnter,onLeave:t.onLeave,onAfterLeave:t.onAfterLeave},{default:q(()=>[t.openItems[s]?(r(),a("div",{key:0,id:`faq-answer-${s}`,class:"overflow-hidden flex-1 bg-[#F9FAFB]",role:"region","aria-labelledby":`faq-question-${s}`},[o("div",ht,[o("div",{class:"text-sm sm:text-base text-[#424448] leading-relaxed prose prose-sm max-w-none",innerHTML:t.formatAnswer(l.answer)},null,8,xt)])],8,mt)):d("",!0)]),_:2},1032,["onEnter","onAfterEnter","onLeave","onAfterLeave"])],2)]))),128))])):t.loading?d("",!0):(r(),a("div",bt,[...n[3]||(n[3]=[o("div",{class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-[#F4F6FC] mb-4"},[o("svg",{class:"w-8 h-8 text-[#6C7B6D]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),o("p",{class:"text-[#6C7B6D] text-base"},"Вопросы не настроены. Добавьте вопросы в настройках блока.",-1)])]))])])):d("",!0)}const Ht=k(lt,[["render",yt],["__scopeId","data-v-4833a709"]]),pt={name:"WhyChooseUs",props:{title:{type:String,default:null},items:{type:Array,default:null}},setup(c){const n=v(null),i=v(!0),t=x(()=>c?.title||n.value?.title||null),m=x(()=>c?.items||n.value?.items||[]),y=async()=>{try{const u=await fetch("/api/public/why-choose-us-block/settings");if(u.ok){const f=await u.json();f.data&&(n.value=f.data)}}catch(u){console.error("Error fetching WhyChooseUs block settings:",u)}finally{i.value=!1}},l=(u,f)=>{const h=[3,6,3,6,6,12],_=u.col||h[f]||3;return{3:"w-full md:w-1/4",6:"w-full md:w-1/2",12:"w-full"}[_]||"w-full md:w-1/4"},s=(u,f)=>{const h=["card-blue","card-blue","card-blue","card-blue","card-blue","card-green"];return(u.bg||h[f]||"card-blue")==="card-green"?"bg-[#688E67]":"bg-[#F4F6FC]"},g=(u,f)=>{const h=["card-blue","card-blue","card-blue","card-blue","card-blue","card-green"];return(u.bg||h[f]||"card-blue")==="card-green"?"text-white":"text-black"};return C(()=>{y()}),{settings:n,loading:i,displayTitle:t,displayItems:m,getCardColumnClass:l,getCardBgClass:s,getCardTextClass:g}}},vt={key:0,class:"w-full px-3 sm:px-4 md:px-5 py-20 md:py-24 bg-background"},_t={class:"w-full max-w-[1200px] mx-auto"},wt={key:0,class:"flex justify-center mb-6 md:mb-8"},kt={class:"text-2xl md:text-3xl font-semibold text-foreground text-center"},Ct={key:1,class:"flex flex-wrap -mx-3"},Ft={key:0,class:"absolute bottom-[5px] right-[5px]"},Bt=["src","alt"],Lt=["innerHTML"];function Tt(c,n,i,t,m,y){return t.settings&&t.settings.is_active?(r(),a("section",vt,[o("div",_t,[t.displayTitle?(r(),a("div",wt,[o("h2",kt,b(t.displayTitle),1)])):d("",!0),t.displayItems&&t.displayItems.length>0?(r(),a("div",Ct,[(r(!0),a(F,null,B(t.displayItems,(l,s)=>(r(),a("div",{key:s,class:p([t.getCardColumnClass(l,s),"px-3 mb-3"])},[o("div",{class:p(["relative rounded-2xl h-[140px] overflow-hidden",t.getCardBgClass(l,s)])},[l.icon&&(l.icon.url||l.icon.disk&&l.icon.name)?(r(),a("div",Ft,[o("img",{src:l.icon.url||`/${l.icon.disk}/${l.icon.name}`,alt:l.text,class:"h-auto max-h-[120px] object-contain",loading:"lazy"},null,8,Bt)])):d("",!0),l.text||l.title?(r(),a("div",{key:1,class:p(["card-title absolute left-5 top-5 text-base sm:text-lg font-medium leading-[22px]",t.getCardTextClass(l,s)]),innerHTML:l.text||l.title},null,10,Lt)):d("",!0),l.short_text&&!l.text&&!l.title?(r(),a("div",{key:2,class:p(["card-title absolute left-5 top-5 text-base sm:text-lg font-medium leading-[22px]",t.getCardTextClass(l,s)])},b(l.short_text),3)):d("",!0)],2)],2))),128))])):d("",!0)])])):d("",!0)}const qt=k(pt,[["render",Tt],["__scopeId","data-v-3eac059f"]]);export{Ht as F,It as H,qt as W};

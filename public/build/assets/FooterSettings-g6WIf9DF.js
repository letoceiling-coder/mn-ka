import{_ as c,c as i,b as t,d as b,t as p,l as s,v as r,h as a,j as v,J as x,o as u}from"./app-CmJo1Xxh.js";import{S as f}from"./sweetalert2.esm.all-C0u8rGqG.js";const k={name:"FooterSettings",setup(){const n=a(!0),e=a(!1),d=a(null),o=a(null),g=async()=>{n.value=!0,d.value=null;try{const l=await x.get("/api/v1/footer-settings");o.value=l.data.data,(!o.value.social_networks||typeof o.value.social_networks!="object")&&(o.value.social_networks={vk:null,instagram:null,telegram:null})}catch(l){d.value=l.response?.data?.message||"Ошибка загрузки настроек",console.error("Error fetching footer settings:",l)}finally{n.value=!1}},m=async()=>{e.value=!0,d.value=null;try{const l=await x.put("/api/v1/footer-settings",o.value);await f.fire({icon:"success",title:"Успешно!",text:"Настройки футера успешно сохранены.",timer:2e3,showConfirmButton:!1})}catch(l){d.value=l.response?.data?.message||"Ошибка сохранения настроек",await f.fire({icon:"error",title:"Ошибка",text:d.value})}finally{e.value=!1}};return v(()=>{g()}),{loading:n,saving:e,error:d,settings:o,saveSettings:m}}},y={class:"footer-settings-page space-y-6"},w={key:0,class:"flex items-center justify-center py-12"},V={key:1,class:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg"},U={class:"text-destructive"},S={key:2,class:"space-y-6"},j={class:"bg-card rounded-lg border border-border p-6 space-y-6"},B={class:"bg-card rounded-lg border border-border p-6 space-y-6"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},N={class:"bg-card rounded-lg border border-border p-6 space-y-6"},D={class:"space-y-4"},F={class:"flex justify-end"},K=["disabled"];function T(n,e,d,o,g,m){return u(),i("div",y,[e[29]||(e[29]=t("div",null,[t("h1",{class:"text-3xl font-semibold text-foreground"},"Настройки футера"),t("p",{class:"text-muted-foreground mt-1"}," Редактирование настроек футера сайта ")],-1)),o.loading?(u(),i("div",w,[...e[13]||(e[13]=[t("p",{class:"text-muted-foreground"},"Загрузка настроек...",-1)])])):b("",!0),o.error?(u(),i("div",V,[t("p",U,p(o.error),1)])):b("",!0),!o.loading&&o.settings?(u(),i("div",S,[t("div",j,[e[17]||(e[17]=t("h2",{class:"text-xl font-semibold text-foreground"},"Основная информация",-1)),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Заголовок ",-1)),s(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>o.settings.title=l),placeholder:"Контакты",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.title]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Копирайт ",-1)),s(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>o.settings.copyright=l),placeholder:"MNKA 2025. Все права защищены",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.copyright]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Ссылка на политику конфиденциальности ",-1)),s(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>o.settings.privacy_policy_link=l),placeholder:"/police",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.privacy_policy_link]])])]),t("div",B,[e[24]||(e[24]=t("h2",{class:"text-xl font-semibold text-foreground"},"Контактная информация",-1)),t("div",C,[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Метка отдела ",-1)),s(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>o.settings.department_label=l),placeholder:"Отдел",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.department_label]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Телефон отдела ",-1)),s(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=l=>o.settings.department_phone=l),placeholder:"+7 (495) 123-45-67",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.department_phone]])])]),t("div",E,[t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Метка объектов ",-1)),s(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>o.settings.objects_label=l),placeholder:"Объекты",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.objects_label]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Телефон объектов ",-1)),s(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=l=>o.settings.objects_phone=l),placeholder:"+7 (495) 123-45-68",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.objects_phone]])])]),t("div",M,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Метка вопросов ",-1)),s(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=l=>o.settings.issues_label=l),placeholder:"Вопросы",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.issues_label]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Email для вопросов ",-1)),s(t("input",{type:"email","onUpdate:modelValue":e[8]||(e[8]=l=>o.settings.issues_email=l),placeholder:"info@example.com",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.issues_email]])])])]),t("div",N,[e[28]||(e[28]=t("h2",{class:"text-xl font-semibold text-foreground"},"Социальные сети",-1)),t("div",D,[t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," VK ",-1)),s(t("input",{type:"url","onUpdate:modelValue":e[9]||(e[9]=l=>o.settings.social_networks.vk=l),placeholder:"https://vk.com/example",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.social_networks.vk]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Instagram ",-1)),s(t("input",{type:"url","onUpdate:modelValue":e[10]||(e[10]=l=>o.settings.social_networks.instagram=l),placeholder:"https://instagram.com/example",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.social_networks.instagram]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Telegram ",-1)),s(t("input",{type:"url","onUpdate:modelValue":e[11]||(e[11]=l=>o.settings.social_networks.telegram=l),placeholder:"https://t.me/example",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[r,o.settings.social_networks.telegram]])])])]),t("div",F,[t("button",{onClick:e[12]||(e[12]=(...l)=>o.saveSettings&&o.saveSettings(...l)),disabled:o.saving,class:"px-6 py-2 bg-accent text-accent-foreground rounded hover:bg-accent/90 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium"},p(o.saving?"Сохранение...":"Сохранить настройки"),9,K)])])):b("",!0)])}const I=c(k,[["render",T]]);export{I as default};

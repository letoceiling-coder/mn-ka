import{_ as v,c as n,b as t,d as i,t as p,l,v as c,E as y,s as w,q as b,h as u,j as k,J as m,o as a}from"./app-DA_5Afjg.js";import{S as x}from"./sweetalert2.esm.all-C0u8rGqG.js";/* empty css                        */const _={name:"CaseCardSettings",setup(){const d=u(!0),e=u(!1),o=u(null),r=u({page_title:"Наши кейсы",page_description:null,items_per_page:6,show_filters:!0,show_breadcrumbs:!0,card_aspect_ratio:"16/10"}),f=async()=>{d.value=!0,o.value=null;try{const s=await m.get("/api/v1/case-card-settings");r.value=s.data.data||r.value}catch(s){console.error("Error fetching case card settings:",s),o.value=s.response?.data?.message||"Ошибка загрузки настроек"}finally{d.value=!1}},g=async()=>{e.value=!0,o.value=null;try{const s=await m.put("/api/v1/case-card-settings",r.value);await x.fire({icon:"success",title:"Успешно!",text:"Настройки карточек кейсов успешно сохранены.",timer:2e3,showConfirmButton:!1})}catch(s){console.error("Error saving case card settings:",s),o.value=s.response?.data?.message||"Ошибка сохранения настроек",await x.fire({icon:"error",title:"Ошибка",text:o.value})}finally{e.value=!1}};return k(()=>{f()}),{loading:d,saving:e,error:o,settings:r,saveSettings:g}}},h={class:"case-card-settings-page space-y-6"},C={key:0,class:"flex items-center justify-center py-12"},S={key:1,class:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg"},V={class:"text-destructive"},U={key:2,class:"space-y-6"},j={class:"bg-card rounded-lg border border-border p-6 space-y-6"},B={class:"bg-card rounded-lg border border-border p-6 space-y-6"},M={class:"bg-card rounded-lg border border-border p-6 space-y-6"},E={class:"flex items-center justify-between"},z={class:"relative inline-flex items-center cursor-pointer"},N={class:"flex items-center justify-between"},D={class:"relative inline-flex items-center cursor-pointer"},q={class:"flex justify-end gap-3"},A=["disabled"],H={key:0,class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function I(d,e,o,r,f,g){return a(),n("div",h,[e[22]||(e[22]=t("div",null,[t("h1",{class:"text-3xl font-semibold text-foreground"},"Настройки карточек кейсов"),t("p",{class:"text-muted-foreground mt-1"}," Редактирование настроек отображения карточек кейсов ")],-1)),r.loading?(a(),n("div",C,[...e[7]||(e[7]=[t("p",{class:"text-muted-foreground"},"Загрузка настроек...",-1)])])):i("",!0),r.error?(a(),n("div",S,[t("p",V,p(r.error),1)])):i("",!0),!r.loading&&r.settings?(a(),n("div",U,[t("div",j,[e[10]||(e[10]=t("h2",{class:"text-xl font-semibold text-foreground"},"Настройки страницы",-1)),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Заголовок страницы ",-1)),l(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>r.settings.page_title=s),placeholder:"Наши кейсы",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[c,r.settings.page_title]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Описание страницы ",-1)),l(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>r.settings.page_description=s),placeholder:"Описание страницы кейсов (опционально)",rows:"3",class:"w-full px-3 py-2 border border-border rounded bg-background text-sm resize-none"},null,512),[[c,r.settings.page_description]])])]),t("div",B,[e[15]||(e[15]=t("h2",{class:"text-xl font-semibold text-foreground"},"Настройки отображения",-1)),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Количество карточек на странице ",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=s=>r.settings.items_per_page=s),min:"1",max:"100",class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},null,512),[[c,r.settings.items_per_page,void 0,{number:!0}]]),e[12]||(e[12]=t("p",{class:"text-xs text-muted-foreground mt-1"}," От 1 до 100 карточек на странице ",-1))]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-foreground mb-2"}," Соотношение сторон карточки ",-1)),l(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>r.settings.card_aspect_ratio=s),class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},[...e[13]||(e[13]=[w('<option value="16/10" data-v-1430e5c4>16:10 (по умолчанию)</option><option value="4/3" data-v-1430e5c4>4:3</option><option value="3/2" data-v-1430e5c4>3:2</option><option value="1/1" data-v-1430e5c4>1:1 (квадрат)</option><option value="21/9" data-v-1430e5c4>21:9</option>',5)])],512),[[y,r.settings.card_aspect_ratio]])])]),t("div",M,[e[20]||(e[20]=t("h2",{class:"text-xl font-semibold text-foreground"},"Элементы интерфейса",-1)),t("div",E,[e[17]||(e[17]=t("div",null,[t("label",{class:"block text-sm font-medium text-foreground mb-1"}," Показывать фильтры "),t("p",{class:"text-xs text-muted-foreground"}," Отображать кнопку фильтров на странице кейсов ")],-1)),t("label",z,[l(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=s=>r.settings.show_filters=s),class:"sr-only peer"},null,512),[[b,r.settings.show_filters]]),e[16]||(e[16]=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])]),t("div",N,[e[19]||(e[19]=t("div",null,[t("label",{class:"block text-sm font-medium text-foreground mb-1"}," Показывать хлебные крошки "),t("p",{class:"text-xs text-muted-foreground"}," Отображать навигационные хлебные крошки на странице кейсов ")],-1)),t("label",D,[l(t("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=s=>r.settings.show_breadcrumbs=s),class:"sr-only peer"},null,512),[[b,r.settings.show_breadcrumbs]]),e[18]||(e[18]=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])])]),t("div",q,[t("button",{onClick:e[6]||(e[6]=(...s)=>r.saveSettings&&r.saveSettings(...s)),disabled:r.saving,class:"px-6 py-2 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[r.saving?(a(),n("svg",H,[...e[21]||(e[21]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):i("",!0),t("span",null,p(r.saving?"Сохранение...":"Сохранить настройки"),1)],8,A)])])):i("",!0)])}const G=v(_,[["render",I],["__scopeId","data-v-1430e5c4"]]);export{G as default};

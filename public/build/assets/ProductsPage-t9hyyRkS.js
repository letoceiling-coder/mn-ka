import{_ as F,c as n,a as v,b as o,d as a,w as j,t as C,F as h,k as _,h as d,j as L,i as b,r as u,o as r,f as B,e as y}from"./app-FjcLdKxM.js";import{P as T}from"./ProductCard-D4PUlCMH.js";import{F as N}from"./FeedbackForm-CWjGWlpf.js";import{S as V}from"./SEOHead-Cyo7KXnX.js";import"./sweetalert2.esm.all-C0u8rGqG.js";const A={name:"ProductsPage",components:{ProductCard:T,FeedbackForm:N,SEOHead:V},setup(){const l=d(!1),t=d(!1),i=d(null),e=d([]),p=d([]),x=async()=>{l.value=!0,i.value=null;try{const s=await fetch("/api/public/products?active=1",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const c=await s.json();e.value=c.data||[]}else throw new Error("Ошибка загрузки продуктов")}catch(s){console.error("Error fetching products:",s),i.value=s.message||"Ошибка загрузки продуктов"}finally{l.value=!1}},g=async()=>{t.value=!0;try{const s=await fetch("/api/public/services?active=1&minimal=1",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const k=(await s.json()).data||[];p.value=k.sort((w,P)=>{const S=w.order??999999,E=P.order??999999;return S-E})}}catch(s){console.error("Error fetching services:",s),e.value.length===0&&(i.value=s.message||"Ошибка загрузки услуг")}finally{t.value=!1}};L(()=>{Promise.all([x(),g()])});const f=b(()=>window.location.origin+"/products"),m=b(()=>({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Главная",item:window.location.origin},{"@type":"ListItem",position:2,name:"Продукты",item:window.location.origin+"/products"}]}));return{loadingProducts:l,loadingServices:t,error:i,products:e,services:p,canonicalUrl:f,breadcrumbSchema:m}}},H={class:"products-page min-h-screen bg-background"},O={class:"w-full px-3 sm:px-4 md:px-5"},G={class:"w-full max-w-[1200px] mx-auto"},I={class:"hidden md:block mt-4"},U={class:"flex items-center gap-2 text-sm text-muted-foreground"},D={key:0,class:"py-12 flex items-center justify-center"},M={key:1,class:"py-12"},q={class:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg"},z={class:"text-destructive"},J={key:2},K={key:0,class:"mb-12"},Q={class:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4"},R={key:1,class:"mb-12"},W={class:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4"},X={key:2,class:"py-12 text-center"},Y={class:"mt-12 pb-12"};function Z(l,t,i,e,p,x){const g=u("SEOHead"),f=u("router-link"),m=u("ProductCard"),s=u("FeedbackForm");return r(),n("div",H,[v(g,{title:"Продукты и услуги - Lagom | Каталог земельных участков",description:"Полный каталог продуктов и услуг по подбору, оформлению и работе с земельными участками. Профессиональные решения для складов, производства, придорожного сервиса и недвижимости.",keywords:"продукты, услуги, земельные участки, недвижимость, кадастр, оформление земли, подбор участка",canonical:e.canonicalUrl,schema:e.breadcrumbSchema},null,8,["canonical","schema"]),o("div",O,[o("div",G,[o("div",I,[o("nav",U,[v(f,{to:"/",class:"hover:text-foreground transition-colors"},{default:j(()=>[...t[0]||(t[0]=[B("Главная",-1)])]),_:1}),t[1]||(t[1]=o("span",null,"/",-1)),t[2]||(t[2]=o("span",{class:"text-foreground"},"Продукты",-1))])]),t[7]||(t[7]=o("div",{class:"mt-6 md:mt-8 mb-8"},[o("h1",{class:"text-2xl md:text-3xl font-semibold text-foreground text-center md:text-left"}," Наши продукты и услуги "),o("p",{class:"text-base md:text-lg text-muted-foreground mt-2 text-center md:text-left"}," Выберите продукт или услугу, которая подходит именно вам ")],-1)),e.loadingProducts||e.loadingServices?(r(),n("div",D,[...t[3]||(t[3]=[o("p",{class:"text-muted-foreground"},"Загрузка...",-1)])])):a("",!0),e.error&&!e.loadingProducts&&!e.loadingServices?(r(),n("div",M,[o("div",q,[o("p",z,C(e.error),1)])])):a("",!0),!e.loadingProducts&&!e.loadingServices?(r(),n("div",J,[e.products.length>0?(r(),n("div",K,[t[4]||(t[4]=o("h2",{class:"text-xl md:text-2xl font-semibold text-foreground mb-6"},"Продуктовые направления",-1)),o("div",Q,[(r(!0),n(h,null,_(e.products,c=>(r(),y(m,{key:`product-${c.id}`,decision:c,slug:"products",class:"h-full"},null,8,["decision"]))),128))])])):a("",!0),e.services.length>0?(r(),n("div",R,[t[5]||(t[5]=o("h2",{class:"text-xl md:text-2xl font-semibold text-foreground mb-6"},"Все услуги",-1)),o("div",W,[(r(!0),n(h,null,_(e.services,c=>(r(),y(m,{key:`service-${c.id}`,decision:c,slug:"services",class:"h-full"},null,8,["decision"]))),128))])])):a("",!0),e.products.length===0&&e.services.length===0?(r(),n("div",X,[...t[6]||(t[6]=[o("p",{class:"text-muted-foreground"},"Продукты и услуги пока не добавлены",-1)])])):a("",!0),o("div",Y,[v(s,{title:"Остались вопросы?",description:"Напишите нам, и мы с удовольствием ответим на все ваши вопросы"})])])):a("",!0)])])])}const rt=F(A,[["render",Z]]);export{rt as default};

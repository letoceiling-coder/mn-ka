import{_ as d,i as u,c as n,b as s,t as m,a as f,w as h,r as x,o}from"./app-D5abfu3I.js";const I={name:"CaseCard",props:{caseItem:{type:Object,required:!0}},setup(e){const a=u(()=>{if(console.log("CaseCard imageUrl computed for:",e.caseItem.name,{hasImage:!!e.caseItem.image,imageUrl:e.caseItem.image?.url,hasImages:!!e.caseItem.images,imagesLength:e.caseItem.images?.length,firstImageUrl:e.caseItem.images?.[0]?.url}),e.caseItem.image&&e.caseItem.image.url)return console.log("Returning image.url:",e.caseItem.image.url),e.caseItem.image.url;if(e.caseItem.images&&Array.isArray(e.caseItem.images)&&e.caseItem.images.length>0){const t=e.caseItem.images[0];if(t&&t.url)return console.log("Returning firstImage.url:",t.url),t.url}return console.log("Returning null - no image found"),null});return{imageUrl:a,getCaseUrl:t=>!t||!t.slug?"/cases":`/cases/${t.slug.startsWith("/")?t.slug.substring(1):t.slug}`,handleImageError:t=>{console.error("Error loading image:",a.value,t),console.error("Image element:",t.target),console.error("Case item:",e.caseItem)},handleImageLoad:()=>{console.log("Image loaded successfully:",a.value)}}}},_={class:"flex flex-col h-full bg-white rounded-lg overflow-hidden"},C={class:"relative w-full aspect-[16/10] bg-gray-100 overflow-hidden"},L=["src","alt"],y={key:1,class:"w-full h-full flex items-center justify-center bg-gray-100"},w={class:"text-gray-400 text-sm"},b={class:"flex-1 flex flex-col p-4 md:p-6 gap-3"},v={class:"font-bold text-lg md:text-xl text-black leading-tight"},k={key:0,class:"text-sm md:text-base text-gray-600 leading-relaxed line-clamp-3"},U={key:1,class:"text-sm md:text-base text-gray-600 leading-relaxed"};function E(e,a,r,l,c,t){const g=x("router-link");return o(),n("article",_,[s("div",C,[l.imageUrl?(o(),n("img",{key:0,src:l.imageUrl,alt:r.caseItem.name,class:"w-full h-full object-cover",onError:a[0]||(a[0]=(...i)=>l.handleImageError&&l.handleImageError(...i)),onLoad:a[1]||(a[1]=(...i)=>l.handleImageLoad&&l.handleImageLoad(...i))},null,40,L)):(o(),n("div",y,[s("span",w,"Нет изображения (URL: "+m(l.imageUrl)+")",1)]))]),s("div",b,[s("h3",v,m(r.caseItem.name||"Название объекта"),1),r.caseItem.description?(o(),n("p",k,m(r.caseItem.description),1)):(o(),n("p",U," Краткое описание обращения, выполнения услуги и подробности ")),f(g,{to:l.getCaseUrl(r.caseItem),class:"inline-flex items-center gap-1 text-sm md:text-base text-black hover:text-gray-700 transition-colors font-medium mt-2"},{default:h(()=>[...a[2]||(a[2]=[s("span",null,"читать подробнее",-1),s("svg",{width:"20",height:"10",viewBox:"0 0 28 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0"},[s("path",{d:"M26.9528 7.09687C27.2962 6.75347 27.2962 6.19673 26.9528 5.85333L21.3569 0.257436C21.0135 -0.0859557 20.4568 -0.0859557 20.1134 0.257436C19.77 0.600828 19.77 1.15758 20.1134 1.50097L25.0875 6.4751L20.1134 11.4492C19.77 11.7926 19.77 12.3494 20.1134 12.6928C20.4568 13.0362 21.0135 13.0362 21.3569 12.6928L26.9528 7.09687ZM0 6.4751L-7.67312e-08 7.35441L26.3311 7.35441L26.3311 6.4751L26.3311 5.59579L7.67312e-08 5.59579L0 6.4751Z",fill:"currentColor"})],-1)])]),_:1},8,["to"])])])}const R=d(I,[["render",E]]);export{R as C};

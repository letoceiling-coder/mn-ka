import{_ as F,c,a as x,b as s,d as n,w as L,t as E,F as h,k as b,h as f,i as l,j as B,r as m,u as C,o as r,f as N,e as y}from"./app-B7_WxS3k.js";import{P as V}from"./ProductCard-f30Nf7c5.js";import{F as H}from"./FeedbackForm-3xzB58Fx.js";import{S as O}from"./SEOHead-26RBHgMf.js";import"./sweetalert2.esm.all-C0u8rGqG.js";const j={name:"ProductsPage",components:{ProductCard:V,FeedbackForm:H,SEOHead:O},setup(){const d=C(),t=f(null),i=f([]),e=f([]),v=l(()=>d.getters.isPublicProductsLoading(!1)),_=l(()=>d.getters.isPublicServicesLoading(!0)),u=async()=>{t.value=null;try{const o=await d.dispatch("fetchPublicProducts",{minimal:!1});i.value=o||[]}catch(o){console.error("Error fetching products:",o),t.value=o.message||"Ошибка загрузки продуктов"}},g=async()=>{try{const o=await d.dispatch("fetchPublicServices",{minimal:!0});e.value=(o||[]).sort((k,P)=>{const S=k.order??999999,w=P.order??999999;return S-w})}catch(o){console.error("Error fetching services:",o),i.value.length===0&&(t.value=o.message||"Ошибка загрузки услуг")}};B(()=>{Promise.all([u(),g()])});const a=l(()=>window.location.origin+"/products"),p=l(()=>({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Главная",item:window.location.origin},{"@type":"ListItem",position:2,name:"Продукты",item:window.location.origin+"/products"}]}));return{loadingProducts:v,loadingServices:_,error:t,products:i,services:e,canonicalUrl:a,breadcrumbSchema:p}}},I={class:"products-page min-h-screen bg-background"},U={class:"w-full px-3 sm:px-4 md:px-5"},A={class:"w-full max-w-[1200px] mx-auto"},D={class:"hidden md:block mt-4"},M={class:"flex items-center gap-2 text-sm text-muted-foreground"},T={key:0,class:"py-12 flex items-center justify-center"},q={key:1,class:"py-12"},z={class:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg"},G={class:"text-destructive"},J={key:2},K={key:0,class:"mb-12"},Q={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-5"},R={key:1,class:"mb-12"},W={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-5"},X={key:2,class:"py-12 text-center"},Y={class:"mt-12 pb-12"};function Z(d,t,i,e,v,_){const u=m("SEOHead"),g=m("router-link"),a=m("ProductCard"),p=m("FeedbackForm");return r(),c("div",I,[x(u,{title:"Продукты и услуги - Lagom | Каталог земельных участков",description:"Полный каталог продуктов и услуг по подбору, оформлению и работе с земельными участками. Профессиональные решения для складов, производства, придорожного сервиса и недвижимости.",keywords:"продукты, услуги, земельные участки, недвижимость, кадастр, оформление земли, подбор участка",canonical:e.canonicalUrl,schema:e.breadcrumbSchema},null,8,["canonical","schema"]),s("div",U,[s("div",A,[s("div",D,[s("nav",M,[x(g,{to:"/",class:"hover:text-foreground transition-colors"},{default:L(()=>[...t[0]||(t[0]=[N("Главная",-1)])]),_:1}),t[1]||(t[1]=s("span",null,"/",-1)),t[2]||(t[2]=s("span",{class:"text-foreground"},"Продукты",-1))])]),t[7]||(t[7]=s("div",{class:"mt-6 md:mt-8 mb-8"},[s("h1",{class:"text-2xl md:text-3xl font-semibold text-foreground text-center md:text-left"}," Наши продукты и услуги "),s("p",{class:"text-base md:text-lg text-muted-foreground mt-2 text-center md:text-left"}," Выберите продукт или услугу, которая подходит именно вам ")],-1)),e.loadingProducts||e.loadingServices?(r(),c("div",T,[...t[3]||(t[3]=[s("p",{class:"text-muted-foreground"},"Загрузка...",-1)])])):n("",!0),e.error&&!e.loadingProducts&&!e.loadingServices?(r(),c("div",q,[s("div",z,[s("p",G,E(e.error),1)])])):n("",!0),!e.loadingProducts&&!e.loadingServices?(r(),c("div",J,[e.products.length>0?(r(),c("div",K,[t[4]||(t[4]=s("h2",{class:"text-xl md:text-2xl font-semibold text-foreground mb-6"},"Продуктовые направления",-1)),s("div",Q,[(r(!0),c(h,null,b(e.products,o=>(r(),y(a,{key:`product-${o.id}`,decision:o,slug:"products",class:"h-full"},null,8,["decision"]))),128))])])):n("",!0),e.services.length>0?(r(),c("div",R,[t[5]||(t[5]=s("h2",{class:"text-xl md:text-2xl font-semibold text-foreground mb-6"},"Все услуги",-1)),s("div",W,[(r(!0),c(h,null,b(e.services,o=>(r(),y(a,{key:`service-${o.id}`,decision:o,slug:"services",class:"h-full"},null,8,["decision"]))),128))])])):n("",!0),e.products.length===0&&e.services.length===0?(r(),c("div",X,[...t[6]||(t[6]=[s("p",{class:"text-muted-foreground"},"Продукты и услуги пока не добавлены",-1)])])):n("",!0),s("div",Y,[x(p,{title:"Остались вопросы?",description:"Напишите нам, и мы с удовольствием ответим на все ваши вопросы"})])])):n("",!0)])])])}const rt=F(j,[["render",Z]]);export{rt as default};

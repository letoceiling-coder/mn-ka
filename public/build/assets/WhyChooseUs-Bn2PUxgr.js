import{_ as v,h,i as L,j as p,c as a,d as c,b as n,a as F,t as b,F as w,k as y,E as A,r as M,o as r,A as x,m as k,p as C,w as q,s as E}from"./app-xHM8Asyr.js";import{F as H}from"./FeedbackModal-0EziaipU.js";const j={name:"HowWork",components:{FeedbackModal:H},setup(){const u=A(),s=h(null),d=h(!0),t=h(!1),g=async()=>{try{const i=await fetch("/api/public/how-work-block/settings");if(i.ok){const m=await i.json();m.data&&(s.value=m.data)}}catch(i){console.error("Error fetching HowWork block settings:",i)}finally{d.value=!1}},f=L(()=>{if(!s.value?.image)return null;const i=s.value.image;return typeof i=="string"?i.startsWith("/")?i:`/${i}`:null}),o=()=>{if(!s.value){console.warn("HowWork: settings not loaded");return}console.log("HowWork button clicked:",{button_type:s.value.button_type,button_value:s.value.button_value}),s.value.button_type==="url"&&s.value.button_value?s.value.button_value.startsWith("http")?window.open(s.value.button_value,"_blank"):u.push(s.value.button_value):(console.log("Opening feedback modal"),t.value=!0)},e=()=>{t.value=!1};return p(()=>{g()}),{settings:s,loading:d,imageUrl:f,showFeedbackModal:t,handleButtonClick:o,handleFeedbackSuccess:e}}},T={key:0,class:"w-full px-3 sm:px-4 md:px-5 py-8 sm:py-12 md:py-16 lg:py-20"},W={class:"w-full max-w-[1200px] mx-auto"},I={key:0,class:"flex justify-center mb-8 sm:mb-12"},S={class:"text-2xl sm:text-3xl md:text-4xl font-semibold text-foreground"},D={class:"flex flex-col md:flex-row gap-6 md:gap-8"},U={class:"w-full md:w-1/2 order-2 md:order-1"},z={class:"space-y-0"},K={class:"flex flex-col items-center flex-shrink-0"},N={class:"w-5 h-5 flex-shrink-0"},V={key:0,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O={key:1,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q={key:0,class:"w-0.5 bg-[#306221] flex-1 min-h-[50px] mt-2"},R={class:"flex-1 pb-6 md:pb-8"},Z=["innerHTML"],G=["innerHTML"],J={class:"w-full md:w-1/2 order-1 md:order-2"},P={key:0,class:"overflow-hidden rounded-[18px] mb-6"},X=["src","alt"];function Y(u,s,d,t,g,f){const o=M("FeedbackModal");return t.settings&&t.settings.is_active?(r(),a("section",T,[n("div",W,[t.settings.title?(r(),a("div",I,[n("h2",S,b(t.settings.title),1)])):c("",!0),n("div",D,[n("div",U,[n("div",z,[(r(!0),a(w,null,y(t.settings.steps,(e,i)=>(r(),a("div",{key:i,class:"flex gap-4 relative"},[n("div",K,[n("div",N,[e.point==="disc"?(r(),a("svg",V,[...s[3]||(s[3]=[n("rect",{width:"20",height:"20",rx:"10",fill:"#6C7B6D"},null,-1)])])):e.point==="star"?(r(),a("svg",O,[...s[4]||(s[4]=[n("path",{d:"M3.825 20L5.45 12.6053L0 7.63158L7.2 6.97368L10 0L12.8 6.97368L20 7.63158L14.55 12.6053L16.175 20L10 16.0789L3.825 20Z",fill:"#6C7B6D"},null,-1)])])):c("",!0)]),i<t.settings.steps.length-1?(r(),a("div",Q)):c("",!0)]),n("div",R,[e.title?(r(),a("h3",{key:0,class:"text-base sm:text-lg font-medium text-[#424448] leading-[22px] mb-2",innerHTML:e.title},null,8,Z)):c("",!0),e.description?(r(),a("p",{key:1,class:"text-sm sm:text-base font-normal text-[#424448] leading-[20px]",innerHTML:e.description},null,8,G)):c("",!0)])]))),128))]),t.settings.button_text?(r(),a("button",{key:0,onClick:s[0]||(s[0]=(...e)=>t.handleButtonClick&&t.handleButtonClick(...e)),class:"mt-6 w-full md:hidden px-6 py-3 bg-[#6C7B6D] hover:bg-[#55695a] text-white font-medium rounded-lg transition-colors"},b(t.settings.button_text),1)):c("",!0)]),n("div",J,[t.settings.image&&t.imageUrl?(r(),a("div",P,[n("img",{src:t.imageUrl,alt:t.settings.image_alt||"Как мы работаем",class:"w-full h-auto object-cover"},null,8,X)])):c("",!0),t.settings.button_text?(r(),a("button",{key:1,onClick:s[1]||(s[1]=(...e)=>t.handleButtonClick&&t.handleButtonClick(...e)),class:"hidden md:block w-full px-6 py-3 bg-[#6C7B6D] hover:bg-[#55695a] text-white font-medium rounded-lg transition-colors"},b(t.settings.button_text),1)):c("",!0)])])]),F(o,{"is-open":t.showFeedbackModal,onClose:s[2]||(s[2]=e=>t.showFeedbackModal=!1),onSuccess:t.handleFeedbackSuccess},null,8,["is-open","onSuccess"])])):c("",!0)}const Bt=v(j,[["render",Y],["__scopeId","data-v-e87d4dbc"]]),$={name:"Faq",setup(){const u=h(null),s=h(!0),d=h({}),t=async()=>{try{const l=await fetch("/api/public/faq-block/settings");if(l.ok){const _=await l.json();_.data&&(u.value=_.data,_.data.faq_items&&Array.isArray(_.data.faq_items)&&_.data.faq_items.forEach((kt,B)=>{d.value[B]=!1}))}}catch(l){console.error("Error fetching FAQ block settings:",l)}finally{s.value=!1}},g=l=>{d.value[l]=!d.value[l]},f=l=>l?/<[a-z][\s\S]*>/i.test(l)?l:l.replace(/\n/g,"<br>"):"",o=l=>{l.style.height="0",l.style.opacity="0",l.offsetHeight},e=l=>{requestAnimationFrame(()=>{l.style.height=`${l.scrollHeight}px`,l.style.opacity="1"})},i=l=>{l.style.height=`${l.scrollHeight}px`,l.style.opacity="1",l.offsetHeight,requestAnimationFrame(()=>{l.style.height="0",l.style.opacity="0"})},m=l=>{l.style.height="",l.style.opacity=""};return p(()=>{t()}),{settings:u,loading:s,openItems:d,toggleAnswer:g,formatAnswer:f,onEnter:o,onAfterEnter:e,onLeave:i,onAfterLeave:m}}},tt={key:0,class:"w-full px-3 sm:px-4 md:px-5 py-8 sm:py-12 md:py-16 lg:py-20 bg-gradient-to-b from-[#F4F6FC] to-white","aria-label":"Часто задаваемые вопросы"},et={class:"w-full max-w-[1200px] mx-auto"},st={key:0,class:"text-center mb-10 sm:mb-12 md:mb-16"},ot={class:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#424448] mb-3 sm:mb-4"},nt={key:1,class:"flex items-center justify-center py-16"},lt={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5 md:gap-6 items-stretch",role:"list"},at=["onClick","onKeydown","aria-expanded","aria-controls"],rt={class:"flex-1 text-base sm:text-lg md:text-xl font-semibold text-[#424448] leading-relaxed pr-4"},it=["id","aria-labelledby"],ct={class:"px-5 sm:px-6 pb-5 sm:pb-6 pt-4"},dt=["innerHTML"],ut={key:3,class:"text-center py-16"};function gt(u,s,d,t,g,f){return t.settings&&t.settings.is_active?(r(),a("section",tt,[n("div",et,[t.settings.title?(r(),a("div",st,[n("h2",ot,b(t.settings.title),1),s[0]||(s[0]=n("div",{class:"w-20 h-1 bg-[#306221] mx-auto rounded-full"},null,-1))])):c("",!0),t.loading?(r(),a("div",nt,[...s[1]||(s[1]=[n("div",{class:"flex flex-col items-center gap-4"},[n("div",{class:"w-12 h-12 border-4 border-[#306221] border-t-transparent rounded-full animate-spin"}),n("p",{class:"text-[#6C7B6D] text-sm"},"Загрузка вопросов...")],-1)])])):t.settings.faq_items&&t.settings.faq_items.length>0?(r(),a("div",lt,[(r(!0),a(w,null,y(t.settings.faq_items,(o,e)=>(r(),a("div",{key:`faq-${e}-${o.question}`,class:"group h-full",role:"listitem"},[n("div",{class:x(["border border-[#E5E7EB] rounded-xl sm:rounded-2xl shadow-sm transition-all duration-300 h-full flex flex-col overflow-hidden",[t.openItems[e]?"border-[#306221] shadow-md bg-[#F9FAFB]":"bg-white group-hover:bg-[#F4F6FC]/50 group-hover:shadow-lg group-hover:border-[#657C6C]"]])},[n("button",{onClick:i=>t.toggleAnswer(e),onKeydown:[k(C(i=>t.toggleAnswer(e),["prevent"]),["enter"]),k(C(i=>t.toggleAnswer(e),["prevent"]),["space"])],"aria-expanded":t.openItems[e],"aria-controls":`faq-answer-${e}`,class:x(["w-full flex items-center justify-between gap-4 p-5 sm:p-6 text-left focus:outline-none transition-colors flex-shrink-0",t.openItems[e]?"bg-[#F9FAFB]":"bg-transparent"])},[n("h3",rt,b(o.question),1),n("div",{class:x(["flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-[#F4F6FC] group-hover:bg-[#657C6C]/10 transition-all duration-300",t.openItems[e]?"bg-[#306221]/10":""])},[(r(),a("svg",{class:x(["w-5 h-5 text-[#6C7B6D] transition-transform duration-300 ease-in-out",t.openItems[e]?"rotate-180 text-[#306221]":""]),fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24","aria-hidden":"true"},[...s[2]||(s[2]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2)],42,at),F(E,{name:"faq-accordion",onEnter:t.onEnter,onAfterEnter:t.onAfterEnter,onLeave:t.onLeave,onAfterLeave:t.onAfterLeave},{default:q(()=>[t.openItems[e]?(r(),a("div",{key:0,id:`faq-answer-${e}`,class:"overflow-hidden flex-1 bg-[#F9FAFB]",role:"region","aria-labelledby":`faq-question-${e}`},[n("div",ct,[n("div",{class:"text-sm sm:text-base text-[#424448] leading-relaxed prose prose-sm max-w-none",innerHTML:t.formatAnswer(o.answer)},null,8,dt)])],8,it)):c("",!0)]),_:2},1032,["onEnter","onAfterEnter","onLeave","onAfterLeave"])],2)]))),128))])):t.loading?c("",!0):(r(),a("div",ut,[...s[3]||(s[3]=[n("div",{class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-[#F4F6FC] mb-4"},[n("svg",{class:"w-8 h-8 text-[#6C7B6D]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),n("p",{class:"text-[#6C7B6D] text-base"},"Вопросы не настроены. Добавьте вопросы в настройках блока.",-1)])]))])])):c("",!0)}const Lt=v($,[["render",gt],["__scopeId","data-v-96883cee"]]),ft={name:"WhyChooseUs",setup(){const u=h(null),s=h(!0),d=async()=>{try{const o=await fetch("/api/public/why-choose-us-block/settings");if(o.ok){const e=await o.json();e.data&&(u.value=e.data)}}catch(o){console.error("Error fetching WhyChooseUs block settings:",o)}finally{s.value=!1}},t=(o,e)=>{const i=[3,6,3,6,6,12],m=o.col||i[e]||3;return{3:"w-full md:w-1/4",6:"w-full md:w-1/2",12:"w-full"}[m]||"w-full md:w-1/4"},g=(o,e)=>{const i=["card-blue","card-blue","card-blue","card-blue","card-blue","card-green"];return(o.bg||i[e]||"card-blue")==="card-green"?"bg-[#688E67]":"bg-[#F4F6FC]"},f=(o,e)=>{const i=["card-blue","card-blue","card-blue","card-blue","card-blue","card-green"];return(o.bg||i[e]||"card-blue")==="card-green"?"text-white":"text-black"};return p(()=>{d()}),{settings:u,loading:s,getCardColumnClass:t,getCardBgClass:g,getCardTextClass:f}}},mt={key:0,class:"w-full px-3 sm:px-4 md:px-5 py-8 sm:py-12 md:py-16 lg:py-20 bg-background"},ht={class:"w-full max-w-[1200px] mx-auto"},xt={key:0,class:"flex justify-center mb-6 md:mb-8"},bt={class:"text-2xl sm:text-3xl md:text-4xl font-semibold text-foreground text-center"},_t={key:1,class:"flex flex-wrap -mx-3"},vt={key:0,class:"absolute bottom-[5px] right-[5px]"},pt=["src","alt"],wt=["innerHTML"];function yt(u,s,d,t,g,f){return t.settings&&t.settings.is_active?(r(),a("section",mt,[n("div",ht,[t.settings.title?(r(),a("div",xt,[n("h2",bt,b(t.settings.title),1)])):c("",!0),t.settings.items&&t.settings.items.length>0?(r(),a("div",_t,[(r(!0),a(w,null,y(t.settings.items,(o,e)=>(r(),a("div",{key:e,class:x([t.getCardColumnClass(o,e),"px-3 mb-3"])},[n("div",{class:x(["relative rounded-2xl h-[140px] overflow-hidden",t.getCardBgClass(o,e)])},[o.icon&&(o.icon.url||o.icon.disk&&o.icon.name)?(r(),a("div",vt,[n("img",{src:o.icon.url||`/${o.icon.disk}/${o.icon.name}`,alt:o.text,class:"h-auto max-h-[120px] object-contain",loading:"lazy"},null,8,pt)])):c("",!0),o.text?(r(),a("div",{key:1,class:x(["card-title absolute left-5 top-5 text-base sm:text-lg font-medium leading-[22px]",t.getCardTextClass(o,e)]),innerHTML:o.text},null,10,wt)):c("",!0)],2)],2))),128))])):c("",!0)])])):c("",!0)}const At=v(ft,[["render",yt],["__scopeId","data-v-90ed1ee0"]]);export{Lt as F,Bt as H,At as W};

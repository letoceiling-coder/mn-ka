import{_ as u,i as d,c as o,b as r,t as c,a as f,w as h,r as x,o as i}from"./app-B6aL35le.js";const _={name:"CaseCard",props:{caseItem:{type:Object,required:!0}},setup(t){const s=d(()=>{if(t.caseItem.image&&t.caseItem.image.url)return t.caseItem.image.url;if(t.caseItem.images&&Array.isArray(t.caseItem.images)&&t.caseItem.images.length>0){const e=t.caseItem.images[0];if(e&&e.url)return e.url}return null}),n=d(()=>{if(!t.caseItem||!t.caseItem.description)return null;const e=t.caseItem.description;if(typeof e=="string")return e;if(typeof e=="object"){if(e.ru)return e.ru;if(e.short)return e.short;if(e.full)return e.full;if(e.detailed){const l=typeof e.detailed=="string"?e.detailed:String(e.detailed);return l.length>150?l.substring(0,150)+"...":l}}return null});return{imageUrl:s,caseDescription:n,getCaseUrl:e=>!e||!e.slug?"/cases":`/cases/${e.slug.startsWith("/")?e.slug.substring(1):e.slug}`,handleImageError:e=>{console.error("Error loading image:",s.value,e),console.error("Image element:",e.target),console.error("Case item:",t.caseItem)},handleImageLoad:()=>{console.log("Image loaded successfully:",s.value)}}}},I={class:"flex flex-col h-full bg-white rounded-lg overflow-hidden"},y={class:"relative w-full aspect-[16/10] bg-gray-100 overflow-hidden"},C=["src","alt"],L={key:1,class:"w-full h-full flex items-center justify-center bg-gray-100"},b={class:"text-gray-400 text-sm"},w={class:"flex-1 flex flex-col p-4 md:p-6 gap-3"},v={class:"font-bold text-lg md:text-xl text-black leading-tight"},k={key:0,class:"text-sm md:text-base text-gray-600 leading-relaxed line-clamp-3"},U={key:1,class:"text-sm md:text-base text-gray-600 leading-relaxed"};function E(t,s,n,a,g,m){const e=x("router-link");return i(),o("article",I,[r("div",y,[a.imageUrl?(i(),o("img",{key:0,src:a.imageUrl,alt:n.caseItem.name,class:"w-full h-full object-cover",onError:s[0]||(s[0]=(...l)=>a.handleImageError&&a.handleImageError(...l)),onLoad:s[1]||(s[1]=(...l)=>a.handleImageLoad&&a.handleImageLoad(...l))},null,40,C)):(i(),o("div",L,[r("span",b,"Нет изображения (URL: "+c(a.imageUrl)+")",1)]))]),r("div",w,[r("h3",v,c(n.caseItem.name||"Название объекта"),1),a.caseDescription?(i(),o("p",k,c(a.caseDescription),1)):(i(),o("p",U," Краткое описание обращения, выполнения услуги и подробности ")),f(e,{to:a.getCaseUrl(n.caseItem),class:"inline-flex items-center gap-1 text-sm md:text-base text-black hover:text-gray-700 transition-colors font-medium mt-2"},{default:h(()=>[...s[2]||(s[2]=[r("span",null,"читать подробнее",-1),r("svg",{width:"20",height:"10",viewBox:"0 0 28 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0"},[r("path",{d:"M26.9528 7.09687C27.2962 6.75347 27.2962 6.19673 26.9528 5.85333L21.3569 0.257436C21.0135 -0.0859557 20.4568 -0.0859557 20.1134 0.257436C19.77 0.600828 19.77 1.15758 20.1134 1.50097L25.0875 6.4751L20.1134 11.4492C19.77 11.7926 19.77 12.3494 20.1134 12.6928C20.4568 13.0362 21.0135 13.0362 21.3569 12.6928L26.9528 7.09687ZM0 6.4751L-7.67312e-08 7.35441L26.3311 7.35441L26.3311 6.4751L26.3311 5.59579L7.67312e-08 5.59579L0 6.4751Z",fill:"currentColor"})],-1)])]),_:1},8,["to"])])])}const B=u(_,[["render",E]]);export{B as C};

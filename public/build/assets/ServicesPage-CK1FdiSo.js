import{_ as b,c as n,b as t,g as d,a as f,w as y,t as k,F as x,l as _,d as l,f as P,r as g,o as r,j as w,h}from"./app-CCdj2HdX.js";import{P as F}from"./ProductCard-qlTkofYD.js";import{F as j}from"./FeedbackForm-DPkglm_8.js";import"./sweetalert2.esm.all-C0u8rGqG.js";const C={name:"ServicesPage",components:{ProductCard:F,FeedbackForm:j},setup(){const u=l(!1),e=l(!1),a=l(null),s=l([]),m=l([]),v=async()=>{u.value=!0;try{const o=await fetch("/api/public/products?active=1",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(o.ok){const c=await o.json();s.value=c.data||[]}}catch(o){console.error("Error fetching products:",o),m.value.length===0&&(a.value=o.message||"Ошибка загрузки продуктов")}finally{u.value=!1}},p=async()=>{e.value=!0,a.value=null;try{const o=await fetch("/api/public/services?active=1",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(o.ok){const c=await o.json();m.value=c.data||[]}else throw new Error("Ошибка загрузки услуг")}catch(o){console.error("Error fetching services:",o),a.value=o.message||"Ошибка загрузки услуг"}finally{e.value=!1}};return P(()=>{Promise.all([p(),v()])}),{loadingProducts:u,loadingServices:e,error:a,products:s,services:m}}},S={class:"services-page min-h-screen bg-background"},E={class:"w-full px-3 sm:px-4 md:px-5"},T={class:"w-full max-w-[1200px] mx-auto"},B={class:"hidden md:block mt-4"},N={class:"flex items-center gap-2 text-sm text-muted-foreground"},V={key:0,class:"py-12 flex items-center justify-center"},A={key:1,class:"py-12"},G={class:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg"},D={class:"text-destructive"},L={key:2},M={key:0,class:"mb-12"},q={class:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4"},z={key:1,class:"mb-12"},H={class:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4"},I={key:2,class:"py-12 text-center"},J={class:"mt-12 pb-12"};function K(u,e,a,s,m,v){const p=g("router-link"),o=g("ProductCard"),c=g("FeedbackForm");return r(),n("div",S,[t("div",E,[t("div",T,[t("div",B,[t("nav",N,[f(p,{to:"/",class:"hover:text-foreground transition-colors"},{default:y(()=>[...e[0]||(e[0]=[w("Главная",-1)])]),_:1}),e[1]||(e[1]=t("span",null,"/",-1)),e[2]||(e[2]=t("span",{class:"text-foreground"},"Услуги",-1))])]),e[7]||(e[7]=t("div",{class:"mt-6 md:mt-8 mb-8"},[t("h1",{class:"text-2xl md:text-3xl font-semibold text-foreground text-center md:text-left"}," Наши услуги и продукты "),t("p",{class:"text-base md:text-lg text-muted-foreground mt-2 text-center md:text-left"}," Выберите услугу или продукт, который подходит именно вам ")],-1)),s.loadingProducts||s.loadingServices?(r(),n("div",V,[...e[3]||(e[3]=[t("p",{class:"text-muted-foreground"},"Загрузка...",-1)])])):d("",!0),s.error&&!s.loadingProducts&&!s.loadingServices?(r(),n("div",A,[t("div",G,[t("p",D,k(s.error),1)])])):d("",!0),!s.loadingProducts&&!s.loadingServices?(r(),n("div",L,[s.services.length>0?(r(),n("div",M,[e[4]||(e[4]=t("h2",{class:"text-xl md:text-2xl font-semibold text-foreground mb-6"},"Все услуги",-1)),t("div",q,[(r(!0),n(x,null,_(s.services,i=>(r(),h(o,{key:`service-${i.id}`,decision:i,slug:"services",class:"h-full"},null,8,["decision"]))),128))])])):d("",!0),s.products.length>0?(r(),n("div",z,[e[5]||(e[5]=t("h2",{class:"text-xl md:text-2xl font-semibold text-foreground mb-6"},"Продуктовые направления",-1)),t("div",H,[(r(!0),n(x,null,_(s.products,i=>(r(),h(o,{key:`product-${i.id}`,decision:i,slug:"products",class:"h-full"},null,8,["decision"]))),128))])])):d("",!0),s.products.length===0&&s.services.length===0?(r(),n("div",I,[...e[6]||(e[6]=[t("p",{class:"text-muted-foreground"},"Услуги и продукты пока не добавлены",-1)])])):d("",!0),t("div",J,[f(c,{title:"Остались вопросы?",description:"Напишите нам, и мы с удовольствием ответим на все ваши вопросы"})])])):d("",!0)])])])}const W=b(C,[["render",K]]);export{W as default};

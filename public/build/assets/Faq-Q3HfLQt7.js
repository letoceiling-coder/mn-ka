import{_ as w,d as m,e as B,f as y,c as i,g as a,b as s,t as h,F as k,l as C,D as A,o as r,z as _,m as v,a as q,q as b,s as p,w as E,k as M}from"./app-DGcwVKox.js";const H={name:"HowWork",setup(){const c=A(),e=m(null),d=m(!0),t=async()=>{try{const n=await fetch("/api/public/how-work-block/settings");if(n.ok){const l=await n.json();l.data&&(e.value=l.data)}}catch(n){console.error("Error fetching HowWork block settings:",n)}finally{d.value=!1}},f=B(()=>{if(!e.value?.image)return null;const n=e.value.image;return typeof n=="string"?n.startsWith("/")?n:`/${n}`:null}),g=()=>{e.value&&(e.value.button_type==="url"&&e.value.button_value?e.value.button_value.startsWith("http")?window.open(e.value.button_value,"_blank"):c.push(e.value.button_value):e.value.button_type==="method"&&console.log("Method button clicked:",e.value.button_value))};return y(()=>{t()}),{settings:e,loading:d,imageUrl:f,handleButtonClick:g}}},j={key:0,class:"w-full px-3 sm:px-4 md:px-5 py-8 sm:py-12 md:py-16 lg:py-20"},D={class:"w-full max-w-[1200px] mx-auto"},I={key:0,class:"flex justify-center mb-8 sm:mb-12"},T={class:"text-2xl sm:text-3xl md:text-4xl font-semibold text-foreground"},W={class:"flex flex-col md:flex-row gap-6 md:gap-8"},z={class:"w-full md:w-1/2 order-2 md:order-1"},S={class:"space-y-0"},K={class:"flex flex-col items-center flex-shrink-0"},N={class:"w-5 h-5 flex-shrink-0"},U={key:0,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},V={key:1,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q={key:0,class:"w-0.5 bg-[#306221] flex-1 min-h-[50px] mt-2"},R={class:"flex-1 pb-6 md:pb-8"},Z=["innerHTML"],G=["innerHTML"],J={class:"w-full md:w-1/2 order-1 md:order-2"},O={key:0,class:"overflow-hidden rounded-[18px] mb-6"},P=["src","alt"];function X(c,e,d,t,f,g){return t.settings&&t.settings.is_active?(r(),i("section",j,[s("div",D,[t.settings.title?(r(),i("div",I,[s("h2",T,h(t.settings.title),1)])):a("",!0),s("div",W,[s("div",z,[s("div",S,[(r(!0),i(k,null,C(t.settings.steps,(n,l)=>(r(),i("div",{key:l,class:"flex gap-4 relative"},[s("div",K,[s("div",N,[n.point==="disc"?(r(),i("svg",U,[...e[2]||(e[2]=[s("rect",{width:"20",height:"20",rx:"10",fill:"#6C7B6D"},null,-1)])])):n.point==="star"?(r(),i("svg",V,[...e[3]||(e[3]=[s("path",{d:"M3.825 20L5.45 12.6053L0 7.63158L7.2 6.97368L10 0L12.8 6.97368L20 7.63158L14.55 12.6053L16.175 20L10 16.0789L3.825 20Z",fill:"#6C7B6D"},null,-1)])])):a("",!0)]),l<t.settings.steps.length-1?(r(),i("div",Q)):a("",!0)]),s("div",R,[n.title?(r(),i("h3",{key:0,class:"text-base sm:text-lg font-medium text-[#424448] leading-[22px] mb-2",innerHTML:n.title},null,8,Z)):a("",!0),n.description?(r(),i("p",{key:1,class:"text-sm sm:text-base font-normal text-[#424448] leading-[20px]",innerHTML:n.description},null,8,G)):a("",!0)])]))),128))]),t.settings.button_text?(r(),i("button",{key:0,onClick:e[0]||(e[0]=(...n)=>t.handleButtonClick&&t.handleButtonClick(...n)),class:"mt-6 w-full md:hidden px-6 py-3 bg-[#6C7B6D] hover:bg-[#55695a] text-white font-medium rounded-lg transition-colors"},h(t.settings.button_text),1)):a("",!0)]),s("div",J,[t.settings.image&&t.imageUrl?(r(),i("div",O,[s("img",{src:t.imageUrl,alt:t.settings.image_alt||"Как мы работаем",class:"w-full h-auto object-cover"},null,8,P)])):a("",!0),t.settings.button_text?(r(),i("button",{key:1,onClick:e[1]||(e[1]=(...n)=>t.handleButtonClick&&t.handleButtonClick(...n)),class:"hidden md:block w-full px-6 py-3 bg-[#6C7B6D] hover:bg-[#55695a] text-white font-medium rounded-lg transition-colors"},h(t.settings.button_text),1)):a("",!0)])])])])):a("",!0)}const mt=w(H,[["render",X],["__scopeId","data-v-945e11be"]]),Y={name:"Faq",setup(){const c=m(null),e=m(!0),d=m({}),t=async()=>{try{const o=await fetch("/api/public/faq-block/settings");if(o.ok){const u=await o.json();u.data&&(c.value=u.data,u.data.faq_items&&Array.isArray(u.data.faq_items)&&u.data.faq_items.forEach((gt,L)=>{d.value[L]=!1}))}}catch(o){console.error("Error fetching FAQ block settings:",o)}finally{e.value=!1}},f=o=>{d.value[o]=!d.value[o]},g=o=>o?/<[a-z][\s\S]*>/i.test(o)?o:o.replace(/\n/g,"<br>"):"",n=o=>{o.style.height="0",o.style.opacity="0"},l=o=>{_(()=>{o.style.height=`${o.scrollHeight}px`,o.style.opacity="1"})},x=o=>{o.style.height=`${o.scrollHeight}px`,o.style.opacity="1",_(()=>{o.style.height="0",o.style.opacity="0"})},F=o=>{o.style.height="",o.style.opacity=""};return y(()=>{t()}),{settings:c,loading:e,openItems:d,toggleAnswer:f,formatAnswer:g,onEnter:n,onAfterEnter:l,onLeave:x,onAfterLeave:F}}},$={key:0,class:"w-full px-3 sm:px-4 md:px-5 py-8 sm:py-12 md:py-16 lg:py-20 bg-gradient-to-b from-[#F4F6FC] to-white","aria-label":"Часто задаваемые вопросы"},tt={class:"w-full max-w-[1200px] mx-auto"},et={key:0,class:"text-center mb-10 sm:mb-12 md:mb-16"},st={class:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#424448] mb-3 sm:mb-4"},ot={key:1,class:"flex items-center justify-center py-16"},nt={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5 md:gap-6 items-stretch",role:"list"},lt=["onClick","onKeydown","aria-expanded","aria-controls"],it={class:"flex-1 text-base sm:text-lg md:text-xl font-semibold text-[#424448] leading-relaxed pr-4"},rt=["id","aria-labelledby"],at={class:"px-5 sm:px-6 pb-5 sm:pb-6 pt-4"},dt=["innerHTML"],ct={key:3,class:"text-center py-16"};function ft(c,e,d,t,f,g){return t.settings&&t.settings.is_active?(r(),i("section",$,[s("div",tt,[t.settings.title?(r(),i("div",et,[s("h2",st,h(t.settings.title),1),e[0]||(e[0]=s("div",{class:"w-20 h-1 bg-[#306221] mx-auto rounded-full"},null,-1))])):a("",!0),t.loading?(r(),i("div",ot,[...e[1]||(e[1]=[s("div",{class:"flex flex-col items-center gap-4"},[s("div",{class:"w-12 h-12 border-4 border-[#306221] border-t-transparent rounded-full animate-spin"}),s("p",{class:"text-[#6C7B6D] text-sm"},"Загрузка вопросов...")],-1)])])):t.settings.faq_items&&t.settings.faq_items.length>0?(r(),i("div",nt,[(r(!0),i(k,null,C(t.settings.faq_items,(n,l)=>(r(),i("div",{key:`faq-${l}-${n.question}`,class:"group h-full",role:"listitem"},[s("div",{class:v(["border border-[#E5E7EB] rounded-xl sm:rounded-2xl shadow-sm transition-all duration-300 h-full flex flex-col overflow-hidden",[t.openItems[l]?"border-[#306221] shadow-md bg-[#F9FAFB]":"bg-white group-hover:bg-[#F4F6FC]/50 group-hover:shadow-lg group-hover:border-[#657C6C]"]])},[s("button",{onClick:x=>t.toggleAnswer(l),onKeydown:[b(p(x=>t.toggleAnswer(l),["prevent"]),["enter"]),b(p(x=>t.toggleAnswer(l),["prevent"]),["space"])],"aria-expanded":t.openItems[l],"aria-controls":`faq-answer-${l}`,class:v(["w-full flex items-center justify-between gap-4 p-5 sm:p-6 text-left focus:outline-none focus:ring-2 focus:ring-[#306221] focus:ring-offset-2 transition-colors flex-shrink-0",t.openItems[l]?"bg-[#F9FAFB]":"bg-transparent"])},[s("h3",it,h(n.question),1),s("div",{class:v(["flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-[#F4F6FC] group-hover:bg-[#657C6C]/10 transition-all duration-300",t.openItems[l]?"bg-[#306221]/10":""])},[(r(),i("svg",{class:v(["w-5 h-5 text-[#6C7B6D] transition-transform duration-300 ease-in-out",t.openItems[l]?"rotate-180 text-[#306221]":""]),fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24","aria-hidden":"true"},[...e[2]||(e[2]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2)],42,lt),q(M,{name:"faq-accordion",onEnter:t.onEnter,onAfterEnter:t.onAfterEnter,onLeave:t.onLeave,onAfterLeave:t.onAfterLeave},{default:E(()=>[t.openItems[l]?(r(),i("div",{key:0,id:`faq-answer-${l}`,class:"overflow-hidden flex-1 bg-[#F9FAFB]",role:"region","aria-labelledby":`faq-question-${l}`},[s("div",at,[s("div",{class:"text-sm sm:text-base text-[#424448] leading-relaxed prose prose-sm max-w-none",innerHTML:t.formatAnswer(n.answer)},null,8,dt)])],8,rt)):a("",!0)]),_:2},1032,["onEnter","onAfterEnter","onLeave","onAfterLeave"])],2)]))),128))])):t.loading?a("",!0):(r(),i("div",ct,[...e[3]||(e[3]=[s("div",{class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-[#F4F6FC] mb-4"},[s("svg",{class:"w-8 h-8 text-[#6C7B6D]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),s("p",{class:"text-[#6C7B6D] text-base"},"Вопросы не настроены. Добавьте вопросы в настройках блока.",-1)])]))])])):a("",!0)}const ht=w(Y,[["render",ft],["__scopeId","data-v-3de277b9"]]);export{ht as F,mt as H};

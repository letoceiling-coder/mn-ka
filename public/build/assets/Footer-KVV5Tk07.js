import{_ as Q,h as c,i as M,y as O,j as W,e as P,w as _,s as A,u as he,E as K,r as q,o as n,c as r,d as u,p as D,b as s,l as N,m as U,v as H,F as E,k as R,a as T,f as z,t as y,z as F,B as fe,q as ve,n as pe,C as xe}from"./app-BjvdfWfd.js";const we={name:"BurgerMenu",props:{isOpen:{type:Boolean,required:!0}},emits:["close"],setup(d,{emit:t}){const v=K(),e=he(),g=c(""),p=c([]),a=c([]),o=M(()=>typeof window<"u"&&window.innerWidth<=767),b=M(()=>e.getters.isPublicServicesLoading(!0)),l=M(()=>e.getters.isPublicProductsLoading(!1)),h=async()=>{try{const k=await e.dispatch("fetchPublicServices",{minimal:!0});p.value=k.sort((w,x)=>{const S=w.order??999999,B=x.order??999999;return S-B}).map(w=>{const x=w.slug?w.slug.replace(/^\/+/,""):"";return{slug:x?`/services/${x}`:"/services",name:w.name||w.title}})}catch(k){console.error("Error fetching services:",k)}},f=async()=>{try{const k=await e.dispatch("fetchPublicProducts",{minimal:!1});a.value=k.sort((w,x)=>{const S=w.order??999999,B=x.order??999999;return S-B}).map(w=>{const x=w.slug?w.slug.replace(/^\/+/,""):"";return{slug:x?`/products/${x}`:"/products",name:w.name||w.title}})}catch(k){console.error("Error fetching products:",k)}};return O(()=>d.isOpen,k=>{k&&(h(),f())}),W(()=>{d.isOpen&&(h(),f())}),{searchQuery:g,services:p,products:a,loadingServices:b,loadingProducts:l,isMobile:o,handleSearch:()=>{if(g.value.trim()){const k=g.value.trim();g.value="",v.push({name:"search",query:{q:k}}),t("close")}}}}},ye={class:"w-full max-w-[1200px] mx-auto px-4 sm:px-[15px]"},be={class:"flex justify-between items-center mt-8 sm:mt-12 gap-3 sm:gap-5 burger-menu-content"},ke={class:"w-full md:w-1/4 pr-0"},Ce={class:"relative"},_e={class:"mt-6 sm:mt-12 burger-menu-content"},Se={key:0,class:"text-white/70 text-sm"},Le={key:1,class:"text-white/70 text-sm"},Be={key:2,class:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4"},Me={class:"mt-6 sm:mt-12 pb-6 sm:pb-0 burger-menu-content"},je={key:0,class:"text-white/70 text-sm"},Ie={key:1,class:"text-white/70 text-sm"},Ee={key:2,class:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4"};function Te(d,t,v,e,g,p){const a=q("router-link");return n(),P(A,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 translate-y-full","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-300 ease-out","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-full"},{default:_(()=>[v.isOpen?(n(),r("div",{key:0,class:"fixed top-0 left-0 w-full h-full overflow-y-auto bg-[#6C7B6D] z-[9999] opacity-100",style:{"background-color":"#6C7B6D"},onClick:t[6]||(t[6]=D(o=>d.$emit("close"),["self"]))},[s("div",ye,[s("div",be,[s("div",ke,[s("div",Ce,[N(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>e.searchQuery=o),onKeypress:t[1]||(t[1]=U((...o)=>e.handleSearch&&e.handleSearch(...o),["enter"])),placeholder:"Поиск по сайту",class:"w-full py-2.5 sm:py-[10px] pr-10 pl-3 sm:pl-[10px] border-0 rounded-lg outline-none text-sm sm:text-base bg-gray-200 text-gray-700 placeholder:text-gray-500 focus:bg-gray-100 focus:ring-2 focus:ring-white/30 transition-all duration-200 shadow-inner"},null,544),[[H,e.searchQuery]]),s("button",{onClick:t[2]||(t[2]=(...o)=>e.handleSearch&&e.handleSearch(...o)),type:"button",class:"absolute right-3 sm:right-[10px] top-1/2 -translate-y-1/2 flex items-center cursor-pointer z-10"},[...t[7]||(t[7]=[s("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.015 12.3306C9.66079 13.4127 7.94372 13.9351 6.21641 13.7906C4.48911 13.6461 2.88269 12.8457 1.72708 11.5537C0.571478 10.2617 -0.0455851 8.57623 0.00262643 6.84347C0.050838 5.1107 0.760665 3.46216 1.98632 2.23643C3.21198 1.01071 4.86042 0.300841 6.59309 0.252627C8.32576 0.204412 10.0111 0.821511 11.303 1.97718C12.5949 3.13285 13.3953 4.73937 13.5398 6.46677C13.6843 8.19418 13.1619 9.91134 12.0799 11.2656L17.2602 16.4451C17.3342 16.5141 17.3936 16.5973 17.4348 16.6897C17.476 16.7822 17.4981 16.882 17.4999 16.9831C17.5017 17.0843 17.4831 17.1848 17.4452 17.2787C17.4073 17.3725 17.3509 17.4577 17.2793 17.5293C17.2077 17.6008 17.1225 17.6573 17.0287 17.6952C16.9349 17.7331 16.8344 17.7517 16.7332 17.7499C16.632 17.7481 16.5322 17.726 16.4398 17.6848C16.3474 17.6436 16.2642 17.5842 16.1952 17.5102L11.015 12.3306ZM3.05173 10.7612C2.31432 10.0237 1.81208 9.0841 1.60849 8.0612C1.4049 7.0383 1.50909 5.978 1.90789 5.01431C2.30669 4.05061 2.98221 3.22677 3.84907 2.6469C4.71593 2.06704 5.73522 1.75717 6.77812 1.75647C7.82103 1.75577 8.84073 2.06426 9.70837 2.64296C10.576 3.22166 11.2526 4.04459 11.6527 5.00775C12.0528 5.97091 12.1585 7.03107 11.9562 8.05424C11.754 9.07741 11.253 10.0177 10.5166 10.7562L10.5116 10.7612L10.5066 10.7652C9.51705 11.7525 8.17612 12.3067 6.77833 12.3059C5.38053 12.3052 4.0402 11.7496 3.05173 10.7612Z",fill:"#909090"})],-1)])])])]),s("button",{type:"button",onClick:t[3]||(t[3]=o=>d.$emit("close")),class:"cursor-pointer bg-transparent border-0 p-2 sm:p-0 w-8 h-8 sm:w-10 sm:h-10 md:w-[40px] md:h-[40px] flex-shrink-0"},[...t[8]||(t[8]=[s("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M10.4 32L8 29.6L17.6 20L8 10.4L10.4 8L20 17.6L29.6 8L32 10.4L22.4 20L32 29.6L29.6 32L20 22.4L10.4 32Z",fill:"white"})],-1)])])]),s("div",_e,[t[9]||(t[9]=s("div",{class:"font-medium text-xl sm:text-2xl md:text-[28px] leading-6 sm:leading-[34px] text-white mb-3 sm:mb-2"},"Все услуги",-1)),e.loadingServices?(n(),r("div",Se,"Загрузка...")):e.services.length===0?(n(),r("div",Le,"Услуги не найдены")):(n(),r("div",Be,[(n(!0),r(E,null,R(e.services,o=>(n(),r("div",{key:o.slug,class:"w-full"},[T(a,{to:o.slug,onClick:t[4]||(t[4]=b=>d.$emit("close")),class:"font-normal text-sm md:text-[14px] leading-5 md:leading-[17px] text-[#F4F6FC] no-underline block mb-3 sm:mb-2.5 py-1 hover:text-white transition-colors"},{default:_(()=>[z(y(o.name),1)]),_:2},1032,["to"])]))),128))]))]),s("div",Me,[t[10]||(t[10]=s("div",{class:"font-medium text-xl sm:text-2xl md:text-[28px] leading-6 sm:leading-[34px] text-white mb-3 sm:mb-2"},"Продуктовые направления",-1)),e.loadingProducts?(n(),r("div",je,"Загрузка...")):e.products.length===0?(n(),r("div",Ie,"Продукты не найдены")):(n(),r("div",Ee,[(n(!0),r(E,null,R(e.products,o=>(n(),r("div",{key:o.slug,class:"w-full"},[T(a,{to:o.slug,onClick:t[5]||(t[5]=b=>d.$emit("close")),class:"font-normal text-sm md:text-[14px] leading-5 md:leading-[17px] text-[#F4F6FC] no-underline block mb-3 sm:mb-2.5 py-1 hover:text-white transition-colors"},{default:_(()=>[z(y(o.name),1)]),_:2},1032,["to"])]))),128))]))])])])):u("",!0)]),_:1})}const Pe=Q(we,[["render",Te]]),ze={name:"SearchModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","search"],setup(d,{emit:t}){const v=K(),e=c(""),g=c(null),p=()=>{e.value.trim()&&(v.push({name:"search",query:{q:e.value.trim()}}),e.value="",t("close"))};return O(()=>d.isOpen,a=>{a?F(()=>{g.value&&g.value.focus()}):e.value=""}),{isOpen:M(()=>d.isOpen),searchQuery:e,searchInput:g,handleSearch:p}}},Oe={class:"flex items-center justify-between mb-4"},qe={class:"relative"};function Re(d,t,v,e,g,p){return n(),P(A,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-300 ease-out","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:_(()=>[e.isOpen?(n(),r("div",{key:0,class:"fixed inset-0 z-50 flex items-start justify-center bg-black/60 backdrop-blur-sm pt-20 px-4",onClick:t[5]||(t[5]=D(a=>d.$emit("close"),["self"]))},[T(A,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-300 ease-out","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:_(()=>[e.isOpen?(n(),r("div",{key:0,class:"bg-white rounded-lg shadow-2xl w-full max-w-2xl p-6",onClick:t[4]||(t[4]=D(()=>{},["stop"]))},[s("div",Oe,[t[7]||(t[7]=s("h3",{class:"text-xl font-semibold text-black"},"Поиск по сайту",-1)),s("button",{onClick:t[0]||(t[0]=a=>d.$emit("close")),type:"button",class:"text-gray-500 hover:text-black transition-colors"},[...t[6]||(t[6]=[s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)])])]),s("div",qe,[N(s("input",{ref:"searchInput","onUpdate:modelValue":t[1]||(t[1]=a=>e.searchQuery=a),onKeypress:t[2]||(t[2]=U((...a)=>e.handleSearch&&e.handleSearch(...a),["enter"])),type:"text",placeholder:"Введите запрос для поиска...",class:"w-full h-12 px-4 pr-12 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-[#6C7B6D] focus:border-transparent",autofocus:""},null,544),[[H,e.searchQuery]]),s("button",{onClick:t[3]||(t[3]=(...a)=>e.handleSearch&&e.handleSearch(...a)),type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-black transition-colors"},[...t[8]||(t[8]=[s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.5885 13.8064C11.0409 15.0431 9.07854 15.6401 7.10447 15.475C5.13041 15.3098 3.2945 14.3951 1.97381 12.9185C0.653118 11.4419 -0.0520973 9.5157 0.00300163 7.53539C0.0581006 5.55508 0.869331 3.67104 2.27008 2.27021C3.67083 0.869381 5.55476 0.0581039 7.53496 0.00300181C9.51515 -0.0521003 11.4413 0.653156 12.9178 1.97392C14.3942 3.29469 15.309 5.1307 15.4741 7.10488C15.6392 9.07906 15.0422 11.0415 13.8057 12.5893L19.7259 18.5087C19.8105 18.5875 19.8784 18.6826 19.9254 18.7883C19.9725 18.8939 19.9978 19.0079 19.9999 19.1236C20.0019 19.2392 19.9806 19.3541 19.9373 19.4613C19.894 19.5686 19.8295 19.666 19.7478 19.7478C19.666 19.8295 19.5686 19.894 19.4614 19.9373C19.3541 19.9806 19.2393 20.0019 19.1236 19.9999C19.008 19.9978 18.894 19.9725 18.7883 19.9254C18.6827 19.8784 18.5876 19.8105 18.5088 19.7259L12.5885 13.8064ZM3.48769 12.0128C2.64494 11.1699 2.07095 10.0961 1.83828 8.92709C1.6056 7.75806 1.72467 6.54629 2.18045 5.44492C2.63622 4.34355 3.40824 3.40202 4.39894 2.73932C5.38963 2.07661 6.55454 1.72248 7.74643 1.72168C8.93832 1.72088 10.1037 2.07344 11.0953 2.73481C12.0869 3.39618 12.8602 4.33667 13.3174 5.43743C13.7747 6.53818 13.8954 7.74979 13.6643 8.91913C13.4332 10.0885 12.8606 11.1631 12.019 12.0071L12.0133 12.0128L12.0075 12.0174C10.8766 13.1457 9.34413 13.779 7.74666 13.7782C6.14918 13.7773 4.61737 13.1424 3.48769 12.0128Z",fill:"currentColor"})],-1)])])])])):u("",!0)]),_:1})])):u("",!0)]),_:1})}const Fe=Q(ze,[["render",Re]]),Ae={name:"PublicHeader",components:{BurgerMenu:Pe,SearchModal:Fe},setup(){const d=K(),t=xe(),v=c(!1),e=c(!1),g=c(""),p=c([]),a=c(null),o=c(null),b=c(null),l=c(typeof window<"u"?window.innerWidth:1920),h=c({left:"0px",width:"0px",opacity:"0"}),f=c(null),L=c(null),k=c(null),w=c(null),x=c(!1),S=c([]);let B=null;const $=M(()=>l.value>=1024),ee=M(()=>l.value>=768&&l.value<1024),te=async()=>{try{const i=await fetch("/api/public/menus/header");if(i.ok){const m=await i.json();p.value=m.data||[]}else p.value=[{title:"Продуктовые направления",url:"/products",slug:"/products"},{title:"Кейсы",url:"/cases",slug:"/cases"},{title:"О нас",url:"/about",slug:"/about"},{title:"Контакты",url:"/contact",slug:"/contact"}]}catch(i){console.error("Error fetching menu:",i),p.value=[{title:"Продуктовые направления",url:"/products",slug:"/products"},{title:"Кейсы",url:"/cases",slug:"/cases"},{title:"О нас",url:"/about",slug:"/about"},{title:"Контакты",url:"/contact",slug:"/contact"}]}},G=c(!1),J=c(!1),V=c(!1),j=()=>{if(!o.value){V.value=!1;return}const{scrollLeft:i,scrollWidth:m,clientWidth:C}=o.value;G.value=i>0,J.value=i<m-C-1,V.value=m>C},se=i=>{if(!o.value)return;const m=200,C=o.value.scrollLeft;i==="left"?o.value.scrollTo({left:C-m,behavior:"smooth"}):o.value.scrollTo({left:C+m,behavior:"smooth"})},oe=()=>{j()},ne=()=>{v.value=!v.value,v.value?document.body.style.overflow="hidden":document.body.style.overflow=""},le=()=>{g.value.trim()&&(d.push({name:"search",query:{q:g.value.trim()}}),x.value=!1,g.value=""),e.value=!1},re=()=>{B&&clearTimeout(B);const i=g.value.trim();if(i.length<2){S.value=[],x.value=!1;return}B=setTimeout(async()=>{try{const m=await fetch(`/api/public/search/autocomplete?q=${encodeURIComponent(i)}&limit=5`);if(m.ok){const C=await m.json();S.value=C.data||[],x.value=!0}}catch(m){console.error("Error fetching autocomplete:",m),S.value=[]}},300)},ae=()=>{setTimeout(()=>{x.value=!1},200)},ie=i=>{d.push(i.url),g.value="",x.value=!1,S.value=[]},Z=()=>{l.value=window.innerWidth},I=i=>{if(!i||!o.value||!b.value)return;const m=i.getBoundingClientRect(),C=o.value.getBoundingClientRect();if(!C||!m)return;const me=m.left-C.left,ge=m.width;h.value={left:`${me}px`,width:`${ge}px`,opacity:"1"}},X=()=>{if(!o.value)return null;const i=o.value.querySelectorAll(".menu-link");for(let m of i)if(m.classList.contains("router-link-active")||m.classList.contains("router-link-exact-active"))return m;return null},Y=()=>{setTimeout(()=>{const i=X();i&&(L.value=i,f.value||I(i))},150)},ce=i=>{const m=i.currentTarget;m&&(f.value=m,I(m))},de=()=>{f.value=null,L.value?I(L.value):h.value={...h.value,opacity:"0"}},ue=()=>{setTimeout(()=>{const i=X();i?(L.value=i,f.value||I(i)):(L.value=null,f.value||(h.value={...h.value,opacity:"0"}))},100)};return W(async()=>{await te(),window.addEventListener("resize",Z),window.addEventListener("resize",j),await F(),Z(),setTimeout(()=>{j()},100),Y()}),fe(()=>{window.removeEventListener("resize",Z),window.removeEventListener("resize",j),document.body.style.overflow=""}),O(p,async()=>{await F(),j(),Y()}),O(()=>t.path,()=>{ue()}),O(l,async()=>{await F(),j(),f.value?I(f.value):L.value&&I(L.value)}),{burgerMenuOpen:v,showSearchModal:e,searchQuery:g,menuItems:p,menuContainer:a,menuList:o,menuBackground:b,showSearchInput:$,showSearchIcon:ee,canScrollLeft:G,canScrollRight:J,showScrollButtons:V,backgroundStyle:h,handleLinkHover:ce,handleLinkLeave:de,toggleBurger:ne,handleSearch:le,scrollMenu:se,handleMenuScroll:oe,searchContainer:k,searchInput:w,showSuggestions:x,autocompleteResults:S,handleSearchInput:re,handleSearchBlur:ae,selectSuggestion:ie}}},Qe={class:"w-full px-3 sm:px-4 md:px-5 overflow-hidden max-w-full"},Ve={class:"rounded-lg h-[60px] flex items-center px-2 sm:px-4 md:px-5 gap-2 sm:gap-3 md:gap-5 bg-[#D2E8BE] mt-3 w-full max-w-[1200px] mx-auto shadow-sm overflow-hidden"},Ze={class:"flex items-center mr-2 sm:mr-3 md:mr-5 flex-shrink-0 min-w-0"},De={class:"hidden md:flex bg-[#C9E1B5] rounded-lg flex-1 items-center px-2 sm:px-3 md:px-[15px] gap-2 sm:gap-3 md:gap-5 min-w-0 max-w-full overflow-hidden"},We={class:"flex-1 min-w-0 max-w-full relative overflow-hidden",ref:"menuContainer"},Ke={class:"hidden md:flex items-center ml-auto flex-shrink-0"},Ne={key:1,class:"relative flex items-center h-[38px] bg-white rounded-lg min-w-[250px] px-[15px] pr-10",ref:"searchContainer"},Ue={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 max-h-[400px] overflow-y-auto z-50"},He=["onClick"],Ge={class:"flex items-center justify-between"},Je={class:"flex-1 min-w-0"},Xe={class:"font-medium text-sm text-black truncate"},Ye={class:"text-xs text-gray-500 mt-0.5"};function $e(d,t,v,e,g,p){const a=q("router-link"),o=q("BurgerMenu"),b=q("SearchModal");return n(),r(E,null,[s("div",Qe,[s("header",Ve,[s("div",Ze,[T(a,{to:"/",class:"font-semibold text-base sm:text-lg text-black no-underline truncate"},{default:_(()=>[...t[13]||(t[13]=[z(" mnka ",-1)])]),_:1})]),s("button",{type:"button",onClick:t[0]||(t[0]=(...l)=>e.toggleBurger&&e.toggleBurger(...l)),class:"flex items-center gap-2 sm:gap-[10px] ml-auto md:ml-5 cursor-pointer bg-transparent border-0 p-2 sm:p-0 -mr-2 sm:mr-0 flex-shrink-0"},[...t[14]||(t[14]=[ve('<svg width="25" height="17" viewBox="0 0 25 17" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-f6b5c4a6><line x1="1.05" y1="1.95" x2="23.95" y2="1.95" stroke="black" stroke-width="2.1" stroke-linecap="round" data-v-f6b5c4a6></line><line x1="1.05" y1="8.95" x2="23.95" y2="8.95" stroke="black" stroke-width="2.1" stroke-linecap="round" data-v-f6b5c4a6></line><line x1="1.05" y1="15.9501" x2="23.95" y2="15.9501" stroke="black" stroke-width="2.1" stroke-linecap="round" data-v-f6b5c4a6></line></svg><span class="font-medium text-base leading-5 text-black hidden md:block" data-v-f6b5c4a6>Меню</span>',2)])]),s("div",De,[s("div",We,[e.showScrollButtons&&e.canScrollLeft?(n(),r("button",{key:0,onClick:t[1]||(t[1]=l=>e.scrollMenu("left")),type:"button",class:"menu-scroll-button menu-scroll-button-left absolute left-0 top-0 bottom-0 z-20 bg-gradient-to-r from-[#C9E1B5] to-transparent border-0 outline-none cursor-pointer px-2 flex items-center justify-center transition-opacity duration-200","aria-label":"Прокрутить влево"},[...t[15]||(t[15]=[s("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M10 12L6 8L10 4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])):u("",!0),e.showScrollButtons&&e.canScrollRight?(n(),r("button",{key:1,onClick:t[2]||(t[2]=l=>e.scrollMenu("right")),type:"button",class:"menu-scroll-button menu-scroll-button-right absolute right-0 top-0 bottom-0 z-20 bg-gradient-to-l from-[#C9E1B5] to-transparent border-0 outline-none cursor-pointer px-2 flex items-center justify-center transition-opacity duration-200","aria-label":"Прокрутить вправо"},[...t[16]||(t[16]=[s("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M6 12L10 8L6 4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])):u("",!0),s("ul",{ref:"menuList",class:"menu-list flex items-center gap-2 sm:gap-3 md:gap-5 list-none m-0 p-0 h-[50px] relative overflow-x-auto overflow-y-hidden scrollbar-hide",onScroll:t[4]||(t[4]=(...l)=>e.handleMenuScroll&&e.handleMenuScroll(...l))},[s("div",{ref:"menuBackground",class:"menu-background",style:pe(e.backgroundStyle)},null,4),(n(!0),r(E,null,R(e.menuItems,(l,h)=>(n(),r("li",{key:l.id||l.slug||h,class:"menu-item-wrapper font-medium text-xs leading-[15px] list-none m-0 p-0 relative z-10 flex-shrink-0"},[T(a,{to:l.url||l.slug||"#",class:"menu-link text-black no-underline whitespace-nowrap block overflow-hidden text-ellipsis max-w-full",onMouseenter:t[3]||(t[3]=f=>e.handleLinkHover(f)),onMouseleave:e.handleLinkLeave},{default:_(()=>[z(y(l.title||l.name),1)]),_:2},1032,["to","onMouseleave"])]))),128))],544)],512)]),s("div",Ke,[e.showSearchIcon?(n(),r("button",{key:0,onClick:t[5]||(t[5]=l=>e.showSearchModal=!0),type:"button",class:"p-2 hover:bg-white/50 rounded-lg transition-colors","aria-label":"Поиск"},[...t[17]||(t[17]=[s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"text-black"},[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.5885 13.8064C11.0409 15.0431 9.07854 15.6401 7.10447 15.475C5.13041 15.3098 3.2945 14.3951 1.97381 12.9185C0.653118 11.4419 -0.0520973 9.5157 0.00300163 7.53539C0.0581006 5.55508 0.869331 3.67104 2.27008 2.27021C3.67083 0.869381 5.55476 0.0581039 7.53496 0.00300181C9.51515 -0.0521003 11.4413 0.653156 12.9178 1.97392C14.3942 3.29469 15.309 5.1307 15.4741 7.10488C15.6392 9.07906 15.0422 11.0415 13.8057 12.5893L19.7259 18.5087C19.8105 18.5875 19.8784 18.6826 19.9254 18.7883C19.9725 18.8939 19.9978 19.0079 19.9999 19.1236C20.0019 19.2392 19.9806 19.3541 19.9373 19.4613C19.894 19.5686 19.8295 19.666 19.7478 19.7478C19.666 19.8295 19.5686 19.894 19.4614 19.9373C19.3541 19.9806 19.2393 20.0019 19.1236 19.9999C19.008 19.9978 18.894 19.9725 18.7883 19.9254C18.6827 19.8784 18.5876 19.8105 18.5088 19.7259L12.5885 13.8064ZM3.48769 12.0128C2.64494 11.1699 2.07095 10.0961 1.83828 8.92709C1.6056 7.75806 1.72467 6.54629 2.18045 5.44492C2.63622 4.34355 3.40824 3.40202 4.39894 2.73932C5.38963 2.07661 6.55454 1.72248 7.74643 1.72168C8.93832 1.72088 10.1037 2.07344 11.0953 2.73481C12.0869 3.39618 12.8602 4.33667 13.3174 5.43743C13.7747 6.53818 13.8954 7.74979 13.6643 8.91913C13.4332 10.0885 12.8606 11.1631 12.019 12.0071L12.0133 12.0128L12.0075 12.0174C10.8766 13.1457 9.34413 13.779 7.74666 13.7782C6.14918 13.7773 4.61737 13.1424 3.48769 12.0128Z",fill:"currentColor"})],-1)])])):u("",!0),e.showSearchInput?(n(),r("div",Ne,[N(s("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=l=>e.searchQuery=l),onInput:t[7]||(t[7]=(...l)=>e.handleSearchInput&&e.handleSearchInput(...l)),onKeypress:t[8]||(t[8]=U((...l)=>e.handleSearch&&e.handleSearch(...l),["enter"])),onFocus:t[9]||(t[9]=l=>e.showSuggestions=!0),onBlur:t[10]||(t[10]=(...l)=>e.handleSearchBlur&&e.handleSearchBlur(...l)),placeholder:"Поиск по сайту",class:"outline-none border-0 w-full p-0 bg-transparent text-sm text-black placeholder:text-[#999]",ref:"searchInput"},null,544),[[H,e.searchQuery]]),s("button",{onClick:t[11]||(t[11]=(...l)=>e.handleSearch&&e.handleSearch(...l)),type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer"},[...t[18]||(t[18]=[s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.5885 13.8064C11.0409 15.0431 9.07854 15.6401 7.10447 15.475C5.13041 15.3098 3.2945 14.3951 1.97381 12.9185C0.653118 11.4419 -0.0520973 9.5157 0.00300163 7.53539C0.0581006 5.55508 0.869331 3.67104 2.27008 2.27021C3.67083 0.869381 5.55476 0.0581039 7.53496 0.00300181C9.51515 -0.0521003 11.4413 0.653156 12.9178 1.97392C14.3942 3.29469 15.309 5.1307 15.4741 7.10488C15.6392 9.07906 15.0422 11.0415 13.8057 12.5893L19.7259 18.5087C19.8105 18.5875 19.8784 18.6826 19.9254 18.7883C19.9725 18.8939 19.9978 19.0079 19.9999 19.1236C20.0019 19.2392 19.9806 19.3541 19.9373 19.4613C19.894 19.5686 19.8295 19.666 19.7478 19.7478C19.666 19.8295 19.5686 19.894 19.4614 19.9373C19.3541 19.9806 19.2393 20.0019 19.1236 19.9999C19.008 19.9978 18.894 19.9725 18.7883 19.9254C18.6827 19.8784 18.5876 19.8105 18.5088 19.7259L12.5885 13.8064ZM3.48769 12.0128C2.64494 11.1699 2.07095 10.0961 1.83828 8.92709C1.6056 7.75806 1.72467 6.54629 2.18045 5.44492C2.63622 4.34355 3.40824 3.40202 4.39894 2.73932C5.38963 2.07661 6.55454 1.72248 7.74643 1.72168C8.93832 1.72088 10.1037 2.07344 11.0953 2.73481C12.0869 3.39618 12.8602 4.33667 13.3174 5.43743C13.7747 6.53818 13.8954 7.74979 13.6643 8.91913C13.4332 10.0885 12.8606 11.1631 12.019 12.0071L12.0133 12.0128L12.0075 12.0174C10.8766 13.1457 9.34413 13.779 7.74666 13.7782C6.14918 13.7773 4.61737 13.1424 3.48769 12.0128Z",fill:"black"})],-1)])]),T(A,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-150 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:_(()=>[e.showSuggestions&&e.autocompleteResults.length>0?(n(),r("div",Ue,[(n(!0),r(E,null,R(e.autocompleteResults,(l,h)=>(n(),r("div",{key:h,onClick:f=>e.selectSuggestion(l),class:"px-4 py-3 hover:bg-[#D2E8BE]/30 cursor-pointer transition-colors border-b border-gray-100 last:border-b-0"},[s("div",Ge,[s("div",Je,[s("div",Xe,y(l.name),1),s("div",Ye,y(l.type_label),1)]),t[19]||(t[19]=s("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 ml-2 text-gray-400"},[s("path",{d:"M6 12L10 8L6 4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])],8,He))),128))])):u("",!0)]),_:1})],512)):u("",!0)])])]),e.burgerMenuOpen?(n(),P(o,{key:0,"is-open":e.burgerMenuOpen,onClose:e.toggleBurger},null,8,["is-open","onClose"])):u("",!0),e.showSearchModal?(n(),P(b,{key:1,onClose:t[12]||(t[12]=l=>e.showSearchModal=!1)})):u("",!0)],64)}const It=Q(Ae,[["render",$e],["__scopeId","data-v-f6b5c4a6"]]),et={name:"Footer",setup(){const d=c(null),t=c([]),v=c(!0),e=M(()=>{if(!d.value||!d.value.social_networks)return!1;const a=d.value.social_networks,o=d.value;return!!(a.vk&&o.vk_icon&&o.vk_icon.url||a.instagram&&o.instagram_icon&&o.instagram_icon.url||a.telegram&&o.telegram_icon&&o.telegram_icon.url)}),g=async()=>{try{const a=await fetch("/api/public/footer/settings");if(a.ok){const o=await a.json();o.data&&(d.value=o.data)}}catch(a){console.error("Error fetching footer settings:",a)}finally{v.value=!1}},p=async()=>{try{const a=await fetch("/api/public/menus/footer");if(a.ok){const o=await a.json();if(o.data&&Array.isArray(o.data)){const b=l=>{let h=[];return l.forEach(f=>{h.push(f),f.children&&f.children.length>0&&(h=h.concat(b(f.children)))}),h};t.value=b(o.data)}}}catch(a){console.error("Error fetching footer menu:",a)}};return W(()=>{g(),p()}),{settings:d,menuItems:t,loading:v,hasSocialIcons:e}}},tt={class:"bg-[#6C7B6D] mt-auto"},st={class:"w-full px-3 sm:px-4 md:px-5 pt-5 pb-5"},ot={class:"w-full max-w-[1200px] mx-auto"},nt={key:0,class:"flex justify-center mb-5"},lt={class:"text-2xl md:text-3xl font-semibold text-white text-center"},rt={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 mt-5"},at={key:0,class:"flex flex-col gap-[15px]"},it={class:"text-base sm:text-lg text-white font-normal leading-[22px]"},ct=["href"],dt={key:1,class:"flex flex-col gap-[15px] mt-4"},ut={class:"text-base sm:text-lg text-white font-normal leading-[22px]"},mt=["href"],gt={key:2,class:"flex flex-col gap-[15px] mt-4"},ht={class:"text-base sm:text-lg text-white font-normal leading-[22px]"},ft=["href"],vt={key:3,class:"flex gap-5 items-center mt-5 mb-3"},pt=["href"],xt=["src"],wt=["href"],yt=["src"],bt=["href"],kt=["src"],Ct={key:0,class:"w-full"},_t={class:"grid grid-cols-1 md:grid-cols-2"},St={class:"mt-3 flex flex-col sm:flex-row items-center justify-between gap-4"},Lt={class:"flex justify-end sm:justify-start w-full sm:w-auto"},Bt={key:0,class:"flex justify-center sm:justify-end text-white text-sm sm:text-base"};function Mt(d,t,v,e,g,p){const a=q("router-link");return n(),r("footer",tt,[s("div",st,[s("div",ot,[e.settings&&e.settings.title?(n(),r("div",nt,[s("h2",lt,y(e.settings.title),1)])):u("",!0),e.settings?(n(),r("div",rt,[s("div",null,[e.settings.department_label||e.settings.department_phone?(n(),r("div",at,[s("label",it,y(e.settings.department_label),1),e.settings.department_phone?(n(),r("a",{key:0,href:`tel:${e.settings.department_phone}`,class:"text-xl sm:text-2xl md:text-2xl text-white font-semibold leading-[29px] hover:opacity-80 transition-opacity"},y(e.settings.department_phone),9,ct)):u("",!0)])):u("",!0),e.settings.objects_label||e.settings.objects_phone?(n(),r("div",dt,[s("label",ut,y(e.settings.objects_label),1),e.settings.objects_phone?(n(),r("a",{key:0,href:`tel:${e.settings.objects_phone}`,class:"text-xl sm:text-2xl md:text-2xl text-white font-semibold leading-[29px] hover:opacity-80 transition-opacity"},y(e.settings.objects_phone),9,mt)):u("",!0)])):u("",!0),e.settings.issues_label||e.settings.issues_email?(n(),r("div",gt,[s("label",ht,y(e.settings.issues_label),1),e.settings.issues_email?(n(),r("a",{key:0,href:`mailto:${e.settings.issues_email}`,class:"text-xl sm:text-2xl md:text-2xl text-white font-semibold leading-[29px] hover:opacity-80 transition-opacity"},y(e.settings.issues_email),9,ft)):u("",!0)])):u("",!0),e.hasSocialIcons?(n(),r("div",vt,[e.settings.social_networks?.vk&&e.settings.vk_icon?.url?(n(),r("a",{key:0,href:e.settings.social_networks.vk,target:"_blank",rel:"noopener noreferrer",class:"hover:opacity-80 transition-opacity"},[s("img",{src:e.settings.vk_icon.url,alt:"VK",class:"w-[57px] h-[35px] object-contain"},null,8,xt)],8,pt)):u("",!0),e.settings.social_networks?.instagram&&e.settings.instagram_icon?.url?(n(),r("a",{key:1,href:e.settings.social_networks.instagram,target:"_blank",rel:"noopener noreferrer",class:"hover:opacity-80 transition-opacity"},[s("img",{src:e.settings.instagram_icon.url,alt:"Instagram",class:"w-[35px] h-[35px] object-contain"},null,8,yt)],8,wt)):u("",!0),e.settings.social_networks?.telegram&&e.settings.telegram_icon?.url?(n(),r("a",{key:2,href:e.settings.social_networks.telegram,target:"_blank",rel:"noopener noreferrer",class:"hover:opacity-80 transition-opacity"},[s("img",{src:e.settings.telegram_icon.url,alt:"Telegram",class:"w-[41px] h-[35px] object-contain"},null,8,kt)],8,bt)):u("",!0)])):u("",!0)]),e.menuItems&&e.menuItems.length>0?(n(),r("div",Ct,[s("div",_t,[(n(!0),r(E,null,R(e.menuItems,(o,b)=>(n(),P(a,{key:b,to:o.slug||o.url||"#",class:"footer-menu-item"},{default:_(()=>[z(y(o.title||o.name),1)]),_:2},1032,["to"]))),128))])])):u("",!0)])):u("",!0),t[1]||(t[1]=s("div",{class:"border-t border-white/20 mt-3"},null,-1)),s("div",St,[s("div",Lt,[e.settings&&e.settings.privacy_policy_link?(n(),P(a,{key:0,to:e.settings.privacy_policy_link,class:"text-white hover:opacity-80 transition-opacity text-sm sm:text-base"},{default:_(()=>[...t[0]||(t[0]=[z(" Политика конфиденциальности ",-1)])]),_:1},8,["to"])):u("",!0)]),e.settings&&e.settings.copyright?(n(),r("div",Bt,y(e.settings.copyright),1)):u("",!0)])])])])}const Et=Q(et,[["render",Mt],["__scopeId","data-v-071993a0"]]);export{Et as P,It as a};
